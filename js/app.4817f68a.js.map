{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/LocationInput.vue?ed78","webpack:///./src/components/InstallToHomeScreenPrompt.vue?c947","webpack:///./src/components/Header.vue?f51b","webpack:///./src/components/UpdateAvailable.vue?f04e","webpack:///./src/components/UpdateAvailable.vue?ba3c","webpack:///./src/components/Tabs.vue?c771","webpack:///./src/components/TripsTable.vue?1999","webpack:///./src/components/TripsTable.vue?500f","webpack:///./src/App.vue?d8d4","webpack:///./src/components/Header.vue?ba75","webpack:///src/components/Header.vue","webpack:///./src/components/Header.vue?4c35","webpack:///./src/components/Header.vue","webpack:///./src/components/AppSettings.vue?7c03","webpack:///./src/api/trafikverketCodes.js","webpack:///./src/api/trafikverket.js","webpack:///./src/api/vasttrafik.js","webpack:///./src/api/sl.js","webpack:///./src/api/resrobot.js","webpack:///./src/api/index.js","webpack:///src/components/AppSettings.vue","webpack:///./src/components/AppSettings.vue?6092","webpack:///./src/components/AppSettings.vue","webpack:///./src/components/StationInfo.vue?2fb3","webpack:///./src/components/MessageCarousel.vue?bb01","webpack:///src/components/MessageCarousel.vue","webpack:///./src/components/MessageCarousel.vue?d516","webpack:///./src/components/MessageCarousel.vue","webpack:///./src/components/JourneyDetails.vue?4d9f","webpack:///src/components/JourneyDetails.vue","webpack:///./src/components/JourneyDetails.vue?1711","webpack:///./src/components/JourneyDetails.vue","webpack:///./src/components/LocationInput.vue?f9de","webpack:///./src/components/Button.vue?8471","webpack:///src/components/Button.vue","webpack:///./src/components/Button.vue?2b32","webpack:///./src/components/Button.vue","webpack:///./src/util/debounce.js","webpack:///src/components/LocationInput.vue","webpack:///./src/components/LocationInput.vue?6165","webpack:///./src/components/LocationInput.vue","webpack:///./src/components/TripsTable.vue?3213","webpack:///./src/util/speechSynthesis.js","webpack:///src/components/TripsTable.vue","webpack:///./src/components/TripsTable.vue?5506","webpack:///./src/components/TripsTable.vue","webpack:///src/components/StationInfo.vue","webpack:///./src/components/StationInfo.vue?c542","webpack:///./src/components/StationInfo.vue","webpack:///./src/components/InstallToHomeScreenPrompt.vue?d035","webpack:///src/components/InstallToHomeScreenPrompt.vue","webpack:///./src/components/InstallToHomeScreenPrompt.vue?53b4","webpack:///./src/components/InstallToHomeScreenPrompt.vue","webpack:///./src/components/UpdateAvailable.vue?f29a","webpack:///src/components/UpdateAvailable.vue","webpack:///./src/components/UpdateAvailable.vue?bde1","webpack:///./src/components/UpdateAvailable.vue","webpack:///./src/components/OfflineIndicator.vue?0546","webpack:///src/components/OfflineIndicator.vue","webpack:///./src/components/OfflineIndicator.vue?5508","webpack:///./src/components/OfflineIndicator.vue","webpack:///./src/components/Tabs.vue?f34b","webpack:///src/components/Tabs.vue","webpack:///./src/components/Tabs.vue?3d38","webpack:///./src/components/Tabs.vue","webpack:///./src/store/tabs.js","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/store/user.js","webpack:///./src/api/googleDrive.js","webpack:///./src/util/getDestinationVia.js","webpack:///./src/store/trips.js","webpack:///./src/store/stops.js","webpack:///./src/store/api.js","webpack:///./src/store/index.js","webpack:///./src/registerServiceWorker.js","webpack:///./src/components/FontAwesome.js","webpack:///./src/main.js","webpack:///./src/App.vue?19b9","webpack:///./src/components/Header.vue?a9b6","webpack:///./src/components/JourneyDetails.vue?ad9d","webpack:///./src/components/OfflineIndicator.vue?0a16","webpack:///./src/components/Tabs.vue?6559","webpack:///./src/components/AppSettings.vue?866d","webpack:///./src/components/Button.vue?5c1f","webpack:///./src/components/InstallToHomeScreenPrompt.vue?da5e","webpack:///./src/components/MessageCarousel.vue?7575","webpack:///./src/App.vue?fd07","webpack:///./src/components/StationInfo.vue?a3b1","webpack:///./src/App.vue?abff","webpack:///./src/components/Button.vue?96a9","webpack:///./src/components/AppSettings.vue?54bd","webpack:///./src/components/LocationInput.vue?ae19","webpack:///./src/components/StationInfo.vue?dd9e","webpack:///./src/components/MessageCarousel.vue?42b4","webpack:///./src/components/OfflineIndicator.vue?324f","webpack:///./src/components/JourneyDetails.vue?79ef"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","class","$style","app","attrs","container","currentTabComponent","componentName","appSettings","showSettings","appSettingsVisible","nav","tabs","currentTab","staticRenderFns","header","title","logo","_v","_e","_s","apiName","apiNameMap","VT","TV","computed","isLoadingTrips","injectStyles","context","locals","component","className","label","apis","_l","api","apiBtn","apiBtnActive","on","$event","toggleApi","getLongName","initializing","timeSpan","updateDarkMode","domProps","viewMode","updateFilter","span","filter","voice","options","voiceCheckbox","updateOption","buildTime","DOG","DOS","DOS01","DPR","DPR03","DPS","DPS01","DPS02","DPS03","DTB","DTT","FAT","FOI","FOI01","FOI02","FOI03","FOI04","FOI05","FTF","FTF01","FTF02","FTF03","IBA","IBA01","IBA02","IBA03","IBA04","IBA05","IBA06","IBA07","IBA08","IBA09","IBA10","IBT","IBT01","IBT02","IBT03","IBT04","IBT05","IBT06","IBT07","IBT08","IBT09","IBT10","IBU","IBU01","IBU02","IBU03","IBU04","IBU05","IBÖ","IBÖ01","IBÖ02","IEA","IEA01","IEA02","IEA03","IEA04","IEA05","IEA06","IEA07","IEA08","IEA09","IEA10","IEA11","IEA12","IFK","IFK01","IFK02","ISA","ISA01","ISA02","ISA03","ISA04","ISA05","ISA06","ISA07","ISA08","ISA09","ISA10","ISA11","ISA12","ITA","ITA01","ITA02","ITA03","ITA04","ITA05","ITA06","ITA07","ITA08","ITA09","ITA10","IÖA","IÖA01","IÖA02","IÖA03","IÖA04","IÖA05","IÖA06","IÖA07","IÖA08","JAS","JAS01","JAS02","JAS03","JAS04","JAS05","JDE","JDE10","JDE11","JDE12","JDE13","JDE14","JDE15","JDE16","JDE20","JDE21","JDE22","JDE23","JDE24","JDE25","JDE30","JDE31","JDE32","JDE33","JDE40","JDE41","JDE42","JDE43","JDE45","JDE50","JDE51","JDE52","JDE53","JDE54","JDE55","JDE56","JDE57","JDE60","JDE61","JDE62","JDE63","JDE64","JDM","JDM01","JDM02","JDM03","JDM04","JDM05","JDM06","JDM08","JDM09","JFÖ","JFÖ01","JFÖ02","JFÖ03","JJF","JOM","JOM01","JOM02","JPR","JPR01","JPR02","JST","JST01","JTP","JTP01","JTP02","JTP03","JTP04","JTP05","JTP06","JTP07","JTP08","JTP09","JTP10","JTP11","JTP12","JTP13","JTP14","JTP15","JTP16","JVA","JVA01","JVA02","JVA03","JVA04","JVA05","JVA06","OBÖ","OBÖ01","OBÖ02","ODJ","ODJ01","ODJ02","ODJ03","OMÄ","OMÄ01","OMÄ02","OMÄ03","OMÄ04","ONA","ONA01","ONA02","ONA03","ONA04","ONA05","ONA06","OSY","OSY01","OSY02","OTÅ","OTÅ01","OTÅ02","OTÅ03","OTÅ04","OTÅ05","OUT","OUT01","OVÄ","process","auth","stationMap","objectTypes","TRAIN_STATION","TRAIN_MESSAGE","TRAIN_ANNOUNCEMENT","TrainStation","lat","long","radius","TrainMessage","station","TrainAnnouncement","tvApiRequest","objectType","apiVersion","schemaVersion","args","query","fetch","body","method","headers","resp","jsonPromise","json","RESPONSE","RESULT","ok","catch","logMiddleware","log","transformStation","assign","AdvertisedLocationName","id","LocationSignature","region","getClosestStops","lng","response","map","resolveStationMap","rejectStationMap","stationMapPromise","init","stations","forEach","getClosestStop","pos","stops","getTrafficSituations","location","situations","messages","ExternalDescription","ReasonCode","Code","Description","atob","codes","join","async","deps","dep","ActivityId","direction","ToLocation","LocationName","via","ViaToLocation","ProductInformation","time","AdvertisedTimeAtLocation","substr","timestamp","Date","getTime","isLate","track","TrackAtLocation","sname","findStops","travelPlanner","trafficSituations","authToken","expDate","gid","url","anropaVasttrafik","Accept","reduce","res","description","affectedLines","concat","designation","x","getTripSuggestion","from","dest","now","date","toISOString","toLocaleTimeString","tripUrl","asArray","TripList","Trip","trip","Leg","text","requestUrl","encodeURIComponent","LocationList","StopLocation","stop","transformTrips","trips","rtTime","rtDate","bgColor","cancelled","Boolean","getArrivalsTo","getTimeTable","ArrivalBoard","Arrival","getDeparturesFrom","DepartureBoard","Departure","journeyid","idx","some","prevTrip","errorText","getLiveMap","south","west","north","east","getWGS84","coord","Math","round","livemap","vehicles","getJourneyDetail","JourneyDetail","getGeometry","Geometry","userHeaders","accessTokenPromise","Authorization","getAccessToken","fetchMiddleware","limit","retry","index","self","firstMatch","findIndex","reason","access_token","expires_in","toLocaleString","arg","baseUrl","fetchOptions","lineNumberColors","getColorFromLineNo","lineNo","transformStop","HafasId","makeRequest","Array","term","ResponseData","firstIndex","SiteId","Name","vehicules","BUS","METRO","SHIP","TRAIN","TRAM","vehicule","siteId","Buses","Metros","Ships","Trains","Trams","fgColor","LineNumber","Destination","ExpectedDateTime","TimeTabledDateTime","TransportMode","StopPointDesignation","JourneyDirection","Details","status","path","keyRes","keyTab","replace","byMostTrafficatedStop","a","b","aName","split","bName","weight","sort","trim","transportNumber","rtDepTrack","rtTrack","apiDict","SL","RR","DARK_MODE_NAME","props","default","keys","viewModes","timeSpans","prevVal","localStorage","getItem","documentElement","classList","add","methods","setFilter","setOptions","remove","setItem","_obj","_obj$1","stationInfo","form","arrDep","arrDepBtn","arrDepBtnSelected","arrivals","setArrivals","content","fromToLabel","mergedSituations","carousel","items","style","transform","translateX","onTouchStart","msg","item","dots","playPauseBtn","playPause","intervalId","dotBtn","setActive","dot","activeDot","active","wait","play","pause","setInterval","selectNextActive","clearInterval","startEvt","startX","changedTouches","clientX","onTouchEnd","removeEventListener","endX","endEvt","deltaX","wasSwipe","abs","addEventListener","journeyDetails","display","showJourneyDetails","heading","closeBtn","preventDefault","setShowJourneyDetails","journeyMeta","loadingJourneyDetails","journey","mapLink","setCurrentTab","stopList","depTime","stopPassed","didPass","stopDotCell","stopDot","stopTime","rtDepTime","stopName","stopTrack","timeoutId","selectedJourney","names","JourneyName","journeyDir","Direction","$","Stop","departed","depDate","locationInput","withLabel","showDropDown","indexOf","_k","keyCode","hideDropDown","directives","rawName","expression","ref","input","disabled","composing","searchText","onInput","selectFirstSuggestion","handleKeyInput","spinner","resetLocationBtn","resetLocation","suggestionsFocusTrap","suggestions","left","leftOffset","width","sugestionsWidth","suggestion","nearbySuggestion","getNearbyStops","nearbyStopsMessage","isFavorite","suggestionFavorite","onSelect","stopPropagation","favourize","isLoading","button","onClick","icon","String","Function","debounce","fn","delay","keyToNextElementDict","ArrowUp","ArrowDown","components","Button","show","userLocation","selectedLocation","isLoadingNearbyStops","nearbyStopsError","nearbyStops","showNearbyStops","favs","favorites","favIds","isFav","filteredNearbyStops","watch","newVal","debouncedFindStops","offsetLeft","clientWidth","updateLocation","favorite","removeFavorite","addFavorite","btnElSelector","getSibling","includes","hasSuggestions","focusedBtn","$el","querySelector","nextBtn","focus","activeElement","blur","tripsTable","showingJourneyDetails","table","tableHead","metaLabel","tripNewTime","trackLabel","tableBody","_obj$2","getJourneyDetails","tripLine","tripDest","tripName","origin","tripVia","_f","tripTime","strikeOut","tripTrack","tripNote","remark","isSupported","voices","selectedVoice","loadVoices","speechSynthesis","getVoices","find","test","speak","SpeechSynthesisUtterance","volume","rate","pitch","onvoiceschanged","RelativeTimeFormat","nbsp","timeFormatter","minutesFromNow","hours","minutes","timeStr","setHours","setMinutes","minDiff","filters","doSpeak","dict","inMinutes","ceil","arrival","arrEaves","origDest","departure","LocationInput","JourneyDetails","TripsTable","MessageCarousel","validManualSituations","manualSituations","oldVal","getTrips","lastTimeoutId","contaier","contaierVisible","beforeInstallPrompt","img","website","actions","link","closeToaster","onAddToHomeScreen","prompted","setBeforeInstallPrompt","prompt","userChoice","choiceResult","outcome","updateAvailable","updateAvailableActive","hasUpdate","reloadLink","reload","closeUpdateToaster","setUpdateAvailable","isOnline","offlineIndicator","tab","tabSmall","small","tabActive","tabDisabled","onlyIcon","state","mutations","namespaced","Header","Tabs","StationInfo","AppSettings","MapComponent","DisturbanceComponent","UpdateAvailable","OfflineIndicator","InstallToHomeScreenPrompt","changeTab","newLoc","oldLoc","getTripsAgainAndAgain","toggleSettings","requestAnimationFrame","navigator","consented","getters","commit","dispatch","rootState","rootGetters","getUserLocation","geolocation","getCurrentPosition","coords","setLoading","loading","setConsented","setLocation","latitude","longitude","setNearbyStops","setNearbyStopsError","sheetsApi","API_KEY","sweToVTLingo","Linje","Hpl","Till","Via","Läge","Anm","Tid","Datum","Bakgrundsfärg","Textfärg","files","manualDepartures","fileId","tabName","trafficInformation","getSheet","zipObject","row","getManualDepartures","values","rows","normalizedKeys","hasDateTime","getManualInformation","info","validFrom","validUntil","viaRegExp","getDestinationVia","initialFilter","initialSituations","initialOptions","isLive","filterKeys","optionKeys","manualTrips","filteredTrips","validManual","isSameLocation","isFutureDate","merged","isAffected","loadManualDepartures","googleDrive","getTripsMethod","prevMsg","reset","every","setTrips","setManualTrips","setManualSituations","setSituations","lastQuery","remainingFavorites","fav","toBeRemoved","setStops","setFavorites","locationAPIs","defaultApi","initializedAPIs","setApi","setInitializing","initApi","next","currentIndex","nextIndex","isInitialized","root","Vue","use","Vuex","vuexLocal","VuexPersist","storage","reducer","Store","strict","online","setOnline","selectJourney","setLoadingJourneyDetails","JourneyDetailRef","user","plugins","plugin","store","onLine","register","ready","cached","updated","offline","library","faCog","faMap","faPlay","faSync","faHeart","faTimes","faCheck","faPause","faFilter","faSpinner","faVolumeUp","faVolumeOff","faInfoCircle","faCrosshairs","faMapMarkerAlt","faExclamationCircle","FontAwesomeIcon","config","productionTip","h","App","$mount"],"mappings":"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","file":"js/app.4817f68a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-8cd433a8\":\"7c18df96\",\"chunk-f72d3250\":\"568697d3\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-8cd433a8\":1,\"chunk-f72d3250\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-8cd433a8\":\"6a6a4e2b\",\"chunk-f72d3250\":\"da2b0ca2\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/rasmus2.0/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"locationInput\":\"LocationInput_locationInput_1Fmax\",\"label\":\"LocationInput_label_2zvAB\",\"labelText\":\"LocationInput_labelText_11IFD\",\"input\":\"LocationInput_input_ivqJH\",\"spinner\":\"LocationInput_spinner_2ic4d\",\"resetLocationBtn\":\"LocationInput_resetLocationBtn_1OP_2\",\"suggestionsFocusTrap\":\"LocationInput_suggestionsFocusTrap_2GLp_\",\"suggestions\":\"LocationInput_suggestions_3I4sW\",\"suggestion\":\"LocationInput_suggestion_3aHOF\",\"suggestionFavorite\":\"LocationInput_suggestionFavorite_32Xn6\",\"nearbySuggestion\":\"LocationInput_nearbySuggestion_2f59C\"};","export { default } from  \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstallToHomeScreenPrompt.vue?vue&type=style&index=0&module=true&lang=css&\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstallToHomeScreenPrompt.vue?vue&type=style&index=0&module=true&lang=css&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header_1rqvn\",\"title\":\"Header_title_xw9kv\",\"logo\":\"Header_logo_1oluv\"};","export { default } from  \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateAvailable.vue?vue&type=style&index=0&module=true&lang=css&\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateAvailable.vue?vue&type=style&index=0&module=true&lang=css&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"updateAvailable\":\"UpdateAvailable_updateAvailable_uZAhH\",\"updateAvailableActive\":\"UpdateAvailable_updateAvailableActive_1qO1M\",\"reloadLink\":\"UpdateAvailable_reloadLink_10vaV\",\"closeBtn\":\"UpdateAvailable_closeBtn_14n-V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"Tabs_tabs_1QR2X\",\"tab\":\"Tabs_tab_15Faw\",\"tabSmall\":\"Tabs_tabSmall_3oxul\",\"tabActive\":\"Tabs_tabActive_5B2qN\",\"tabApi\":\"Tabs_tabApi_1DbIs\",\"tabDisabled\":\"Tabs_tabDisabled_2LyC1\",\"link\":\"Tabs_link_3QSdo\",\"text\":\"Tabs_text_3eg7N\",\"icon\":\"Tabs_icon_2bT33\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tripsTable\":\"TripsTable_tripsTable_seMaN\",\"showingJourneyDetails\":\"TripsTable_showingJourneyDetails_2vlip\",\"table\":\"TripsTable_table_2aCjV\",\"tableHead\":\"TripsTable_tableHead_35rh1\",\"trip\":\"TripsTable_trip_3L8k2\",\"strikeOut\":\"TripsTable_strikeOut_2lvIH\",\"tripLine\":\"TripsTable_tripLine_1UetD\",\"dark-mode\":\"TripsTable_dark-mode_3_pC1\",\"tripName\":\"TripsTable_tripName_1S77x\",\"tripTime\":\"TripsTable_tripTime_MCuJO\",\"tripNewTime\":\"TripsTable_tripNewTime_1TU8j\",\"isLate\":\"TripsTable_isLate_332Tg\",\"tripTrack\":\"TripsTable_tripTrack_hi4oT\",\"tripNote\":\"TripsTable_tripNote_364hW\",\"VT\":\"TripsTable_VT_zu_SE\",\"TV\":\"TripsTable_TV_1mpPl\",\"SL\":\"TripsTable_SL_1kF6p\"};","export { default } from  \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TripsTable.vue?vue&type=style&index=0&module=true&lang=css&\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TripsTable.vue?vue&type=style&index=0&module=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.$style.app,attrs:{\"id\":\"app\"}},[_c('Header'),_c('div',{class:_vm.$style.container},[_c(_vm.currentTabComponent.componentName,{tag:\"component\"}),_c('AppSettings',{class:[_vm.$style.appSettings, _vm.showSettings && _vm.$style.appSettingsVisible]})],1),_c('nav',{class:_vm.$style.nav},[_c('Tabs',{attrs:{\"tabs\":_vm.tabs,\"current-tab\":_vm.currentTab,\"show-settings\":_vm.showSettings}})],1),_c('UpdateAvailable'),_c('InstallToHomeScreenPrompt'),_c('OfflineIndicator')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{class:_vm.$style.header},[_c('div',{class:_vm.$style.title},[_c('img',{class:_vm.$style.logo,attrs:{\"src\":\"img/icons/apple-touch-icon-76x76.png\",\"alt\":\"app logo\"}}),_c('span',[_vm._v(\"Resmus\")])]),(_vm.isLoadingTrips)?_c('font-awesome',{attrs:{\"icon\":\"spinner\",\"spin\":\"\"}}):_vm._e(),_c('span',[_vm._v(_vm._s(_vm.apiName))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <header :class=\"$style.header\">\n    <div :class=\"$style.title\">\n      <img :class=\"$style.logo\" src=\"img/icons/apple-touch-icon-76x76.png\" alt=\"app logo\" />\n      <span>Resmus</span>\n    </div>\n    <font-awesome v-if=\"isLoadingTrips\" icon=\"spinner\" spin />\n    <span>{{ apiName }}</span>\n  </header>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\n\nconst apiNameMap = {\n  VT: 'Västtrafik',\n  TV: 'Trafikverket',\n};\n\nexport default {\n  name: 'Header',\n  computed: {\n    ...mapState({\n      apiName: ({ api }) => apiNameMap[api.name],\n    }),\n    ...mapState('trips', {\n      isLoadingTrips: ({ isLoading }) => isLoading,\n    }),\n  },\n};\n</script>\n\n<style module>\n.header {\n  background-color: var(--brand-color);\n  color: var(--brand-text-color);\n  display: flex;\n  justify-content: space-between;\n  padding: 0.5em;\n}\n\n.title {\n  display: flex;\n  align-items: center;\n}\n\n.logo {\n  height: 1em;\n  margin-right: 0.3em;\n}\n\n@supports (-webkit-overflow-scrolling: touch) {\n  .header {\n    padding-top: max(0.5em, env(safe-area-inset-top));\n    padding-left: max(0.5em, env(safe-area-inset-left));\n    padding-right: max(0.5em, env(safe-area-inset-right));\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=7ab4855f&\"\nimport script from \"./Header.vue?vue&type=script&lang=js&\"\nexport * from \"./Header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Header.vue?vue&type=style&index=0&module=true&lang=css&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:[_vm.$style.container, _vm.className]},[_c('h2',[_vm._v(\"Inställningar\")]),_c('p',{class:_vm.$style.label},[_vm._v(\"API\")]),_c('div',{class:_vm.$style.apis},_vm._l((_vm.apis),function(api){return _c('button',{key:api,class:[_vm.$style.apiBtn, api === _vm.apiName && _vm.$style.apiBtnActive],on:{\"click\":function($event){return _vm.toggleApi(api)}}},[_vm._v(\" \"+_vm._s(_vm.getLongName(api))+\" \"),(api === _vm.apiName && _vm.initializing)?_c('font-awesome',{attrs:{\"icon\":\"spinner\",\"spin\":\"\"}}):_vm._e()],1)}),0),_c('p',{class:_vm.$style.label},[_vm._v(\"Other\")]),_c('p',[_c('label',[_vm._v(\" Dark/Light mode: \"),_c('select',{class:_vm.$style.timeSpan,attrs:{\"name\":\"darkMode\"},on:{\"change\":_vm.updateDarkMode}},_vm._l((_vm.viewModes),function(mode){return _c('option',{key:mode.value,domProps:{\"selected\":mode.value === _vm.viewMode,\"value\":mode.value}},[_vm._v(\" \"+_vm._s(mode.name)+\" \")])}),0)])]),_c('p',[_c('label',[_vm._v(\" Hämta resor inom: \"),_c('select',{class:_vm.$style.timeSpan,attrs:{\"name\":\"timeSpan\"},on:{\"change\":_vm.updateFilter}},_vm._l((_vm.timeSpans),function(span){return _c('option',{key:span.value,domProps:{\"selected\":span.value === _vm.filter.timeSpan,\"value\":span.value}},[_vm._v(\" \"+_vm._s(span.name)+\" \")])}),0)])]),_c('p',[_c('label',{class:_vm.$style.voice},[_vm._v(\" Uppläsning: \"+_vm._s(_vm.options.voice ? 'På' : 'Av')+\" \"),_c('font-awesome',{attrs:{\"icon\":['fas', _vm.options.voice ? 'volume-up' : 'volume-off']}}),_c('input',{class:_vm.$style.voiceCheckbox,attrs:{\"name\":\"voice\",\"type\":\"checkbox\"},domProps:{\"checked\":_vm.options.voice},on:{\"input\":_vm.updateOption}})],1)]),_c('p',{class:_vm.$style.label},[_vm._v(\"Build info\")]),_c('div',[_c('p',[_vm._v(_vm._s(_vm.buildTime))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\n  DOG: 'T3JkZXJnaXZuaW5nIHBnYS4gdOVnZvZyaW5n',\n  DOS: 'T3BlcmF0aXZhIHN09mRzeXN0ZW0=',\n  DOS01: 'VGVzdCBDQVRPLCBETE8gQm9kZW4=',\n  DPR: 'UHJpb3JpdGVyaW5n',\n  DPR03: 'RHJpZnRsZWRuaW5nZW4gcHJpb3JpdGVyYXI=',\n  DPS: 'UGVyc29uYWw=',\n  DPS01: 'RmVsYWt0aWcgaGFudGVyaW5nL2Jlc2x1dA==',\n  DPS02: 'UmVzdXJzYnJpc3Q=',\n  DPS03: 'RmVsYWt0aWd0IGzkbW5hZCB0cmFmaWtpbmZvcm1hdGlvbg==',\n  DTB: 'VOVndHLkbmdzZWwgYmFuZ+VyZA==',\n  DTT: 'TWlzc3Tkbmt0IGZlbCBpIGv2cnBsYW4vIGZlbHBsYW5lcmluZw==',\n  FAT: 'U3T2cnQgYXYgYW5uYXQgdOVn',\n  FOI: 'T21sb3BwL2luduRudGFu',\n  FOI01: 'SW525G50YXIgdmFnbmFyIGZy5W4gdOVn',\n  FOI02: 'T21rb3BwbGluZ3N0aWQg9nZlcnNrcmlkZW4=',\n  FOI03: 'T21sb3BwIHTlZ3BlcnNvbmFs',\n  FOI04: 'SW525G50YWQgZvZyYmluZGVsc2UgKGFuduRuZHMgZWop',\n  FOI05: 'VOVnduRuZG5pbmcvT21sb3BwL1TlZ2zkbms=',\n  FTF: 'VOVnZvZyaW5n',\n  FTF01: 'TfZ0ZS9Lb3JzYW5kZSB05Wd25Gc=',\n  FTF02: 'RvZyYmln5W5n',\n  FTF03: 'VOVnIGb2cmUvc3DlcmJyaXN0',\n  IBA: 'QmFuZ+VyZHNhbmzkZ2duaW5nYXI=',\n  IBA01: 'QmFuZ+VyZHNiZWx5c25pbmcgJiBQbGF0dGZvcm1zYmVseXNuaW5n',\n  IBA02: 'UGxhdHRmb3JtIG9jaCBsYXN0a2Fq',\n  IBA03: 'UGxhdHRmb3Jtc/Z2ZXJn5W5n',\n  IBA04: 'UmFuZ2VyYnJvbXNzeXN0ZW0=',\n  IBA05: 'U3DlcnNw5HJy',\n  IBA06: 'U3RvcHBib2Nr',\n  IBA07: 'QnJvbXNwcm92YW5s5GdnbmluZw==',\n  IBA08: 'VOVnIG9jaCBsb2t25HJtZWFubORnZ25pbmc=',\n  IBA09: 'VmFnbnblZw==',\n  IBA10: 'VuRuZHNraXZh',\n  IBT: 'QmFuYXJiZXRlL3RyYW5zcG9ydA==',\n  IBT01: 'UGVyc29uYWxicmlzdA==',\n  IBT02: 'RmVscGxhbmVyaW5n',\n  IBT03: 'TWF0ZXJpYWxmZWwsIG1hdGVyaWFsYnJpc3Q=',\n  IBT04: 'TWFza2luZmVsLCBtYXNraW5icmlzdA==',\n  IBT05: 'VuRkZXJsZWs=',\n  IBT06: 'SW5nZXQgYmVob3Y=',\n  IBT07: 'VOVnZvZyaW5n',\n  IBT08: 'T21wcmlvcml0ZXJpbmcgKHRpbGwgZvZybeVuIGb2ciBhbm5hdCB1cHBkcmFnKQ==',\n  IBT09: 'SW5nZW4gdXBwZ2lmdCBmcuVuIHRpbGxzeW5pbmdzbWFu',\n  IBT10: 'VGVsZWZvbmv2',\n  IBU: 'QmFudW5kZXJieWdnbmFk',\n  IBU01: 'QmFuaw==',\n  IBU02: 'U2vkcm5pbmc=',\n  IBU03: 'VHJ1bW1h',\n  IBU04: 'QnJv',\n  IBU05: 'VHVubmVs',\n  IBÖ: 'QmFu9nZlcmJ5Z2duYWQ=',\n  IBÖ01: 'U3Dlcg==',\n  IBÖ02: 'U3DlcnbkeGVs',\n  IEA: 'RWxhbmzkZ2duaW5nYXI=',\n  IEA01: 'S29udGFrdGxlZG5pbmc=',\n  IEA02: 'SGrkbHBrcmFmdGxlZG5pbmc=',\n  IEA03: 'RvZyZGVsbmluZ3NzdGF0aW9u',\n  IEA04: 'S29wcGxpbmdzY2VudHJhbA==',\n  IEA05: 'TWF0YXJsZWRuaW5n',\n  IEA06: 'RnLlbnNraWxqYXJzdGF0aW9u',\n  IEA07: 'TuR0c3RhdGlvbg==',\n  IEA08: 'T21mb3JtYXJzdGF0aW9u',\n  IEA09: 'U2VrdGlvbmVyaW5nc3N0YXRpb24=',\n  IEA10: 'VHJhbnNmb3JtYXRvcnN0YXRpb24=',\n  IEA11: 'RWxkcmlmdGxlZG5pbmdzc3lzdGVt',\n  IEA12: 'VGVrbmlrYnlnZ25hZA==',\n  IFK: 'RnJhbWtvbWxpZ2hldCBpIHNw5XIgcGdhLiB25GRlcg==',\n  IFK01: 'U3DlcmhhbGth',\n  IFK02: 'U272IG9jaCBpcw==',\n  ISA: 'U2lnbmFsYW5s5GdnbmluZ2Fy',\n  ISA01: 'QmFsaXNncnVwcA==',\n  ISA02: 'UGxhbmtvcnNuaW5n',\n  ISA03: 'UG9zaXRpb25lcmluZ3NzeXN0ZW0=',\n  ISA04: 'U2lnbmFs',\n  ISA05: 'U2lnbmFsc3TkbGx2ZXJrLCBSQkMgb2NoIGxpbmplYmxvY2tlcmluZ3NzeXN0ZW0=',\n  ISA06: 'UmFuZ2Vyc3TkbGx2ZXJr',\n  ISA07: 'VGF2bGE=',\n  ISA08: 'VOVnbGVkbmluZ3NzeXN0ZW0gLSBBUkdVUw==',\n  ISA09: 'VOVnbGVkbmluZ3NzeXN0ZW0gLSBFQklDT1MgVE1T',\n  ISA10: 'VOVnbGVkbmluZ3NzeXN0ZW0gLSBFQklDT1MgOTAwICYgRUJJQ09TIDkwMCBOVA==',\n  ISA11: 'VOVnbGVkbmluZ3NzeXN0ZW0gLSBKWkEgMTEgKFJlbORmamIp',\n  ISA12: 'VOVnbGVkbmluZ3NzeXN0ZW0gLSBFUlRNUw==',\n  ITA: 'VGVsZWFubORnZ25pbmdhcg==',\n  ITA01: 'RGV0ZWt0b3I=',\n  ITA02: 'S2FiZWxhbmzkZ2duaW5n',\n  ITA03: 'UmFkaW9hbmzkZ2duaW5n',\n  ITA04: 'U2lnbmFsdGVsZWZvbg==',\n  ITA05: 'VGVsZWNlbnRyYWw=',\n  ITA06: 'VGVsZXN0YXRpb25zYW5s5GdnbmluZw==',\n  ITA07: 'VGVsZXRyYW5zbWlzc2lvbnNhbmzkZ2duaW5n',\n  ITA08: 'RHluYW1pc2sgc2t5bHQ=',\n  ITA09: 'SPZndGFsYXJzeXN0ZW0=',\n  ITA10: 'S2xvY2tvcg==',\n  IÖA: '1nZyaWdhIGFubORnZ25pbmdhcg==',\n  IÖA01: 'RmFzdGlnaGV0',\n  IÖA02: 'SORnbmFk',\n  IÖA03: 'S2FuYWxpc2F0aW9u',\n  IÖA04: 'UuRsc3Nt9nJqbmluZ3NhcHBhcmF0',\n  IÖA05: 'U272Z2FsbGVyaQ==',\n  IÖA06: 'VuRn',\n  IÖA07: 'QXZ2YXR0bmluZywgcHVtcHN5c3RlbQ==',\n  IÖA08: '1nZlcnZha25pbmdza2FtZXJh',\n  JAS: 'QXZ2aWthbmRlIHNhbW1hbnPkdHRuaW5n',\n  JAS01: '1nZlcnNranV0YW5kZSBsYXN0cHJvZmlsL0ZhcmxpZ3QgZ29kcw==',\n  JAS02: 'TOVuZ3QgdOVn',\n  JAS03: 'RvZyIHR1bmd0IHTlZw==',\n  JAS04: 'UmFwcG9ydGVyaW5n',\n  JAS05: 'TG9rdHJhbnNwb3J0',\n  JDE: 'U2VudCBmcuVuIGRlcOU=',\n  JDE10: 'VGVybWluYWx0auRuc3Q=',\n  JDE11: '1nZlciAxMCBtaW51dGVyIHNlbnQgdGlsbCBkZXDl',\n  JDE12: 'SGFuZGhhdmFuZGVmZWw=',\n  JDE13: 'QWt1dCBmZWxhdmhq5GxwbmluZw==',\n  JDE14: 'UGVyc29uYWxicmlzdA==',\n  JDE15: 'RvZyYXJlIGtsYXJhbm3kbHQgdOVnIHNlbnQ=',\n  JDE16: 'VXRlYmxpdmVuIGtsYXJyYXBwb3J0',\n  JDE20: '1nZyaWd0',\n  JDE21: 'Rm9yZG9uc2JyaXN0',\n  JDE22: 'RXh0cmF05WcgYmVzdORsbHQ=',\n  JDE23: '1nZyaWcgZXh0cmEgYmVzdORsbG5pbmc=',\n  JDE24: 'SW5nZW4gbm90ZXJpbmc=',\n  JDE25: 'RvZyYXJlIHNlbiBlbGxlciBzYWtuYXM=',\n  JDE30: 'U3TkZA==',\n  JDE31: 'U3TkZGxldmVyYW509nIg9nZlcnNrcmlkZXIgdGlk',\n  JDE32: 'RvZyc2VuaW5nIHBnYSB1bmRlcmxldiBTdORk',\n  JDE33: 'U3TkZGFyYiBlaiBnb2Rr5G50IEpG',\n  JDE40: 'VmVya3N0YWQ=',\n  JDE41: 'VmVya3N0YWQg9nZlcnNrcmlkZXIgdGlk',\n  JDE42: 'RvZycyBwZ2EgdW5kZXJsZXYgVnN0',\n  JDE43: 'VnN0LWFyYiBlaiBnb2Rr5G50IGF2IEpG',\n  JDE45: 'RvZyc2VuaW5nIHBnYSBhbm5hbiBsZXY=',\n  JDE50: 'SW5mcmFzdHJ1a3R1cg==',\n  JDE51: 'QmFuYXJiZXRl',\n  JDE52: 'U3DlcmZlbA==',\n  JDE53: 'VuR4ZWxmZWw=',\n  JDE54: 'U2lnbmFsZmVs',\n  JDE55: 'S1RMLWZlbCwgc3Dkbm5pbmdzbPZzIGt0bA==',\n  JDE56: 'U272IG9jaCBpcw==',\n  JDE57: 'S/Zyb3JkZXIgZ+VyIGVqIGF0dCBm5Q==',\n  JDE60: 'VHJhZmlrbGVkbmluZw==',\n  JDE61: 'U3RsdiBlaiBsZXZlcmVyYXQgaSB0aWQ=',\n  JDE62: 'U3RsdiBn5XIgZWogYXR0IG7l',\n  JDE63: 'VFJWIERMQyBmZWxha3RpZyBtYW72dmVy',\n  JDE64: 'RGlmZiBrbGFycmFwcC9hdmzkc24gcGt0',\n  JDM: 'RHJhZ2ZvcmRvbiAvIG1vdG9ydmFnbg==',\n  JDM01: 'QVRDLWZlbA==',\n  JDM02: 'TG9rYnl0ZQ==',\n  JDM03: 'U3Ry9m1hdnRhZ2FyZQ==',\n  JDM04: 'SGp1bHNrYWRh',\n  JDM05: 'QnJvbXNmZWw=',\n  JDM06: 'T21zdGFydCBhdiBzeXN0ZW0=',\n  JDM08: 'TWFza2luZmVs',\n  JDM09: 'RPZycmZlbA==',\n  JFÖ: 'RvZyYXJwZXJzb25hbA==',\n  JFÖ01: 'RvZyYXJwZXJzb25hbCBzYWtuYXM=',\n  JFÖ02: 'UGVyc29uYWxieXRl',\n  JFÖ03: 'UmFzdA==',\n  JJF: 'SW5nZW4gdXBwZ2lmdCBmcuVuIEpG',\n  JOM: 'T21ib3JkcGVyc29uYWw=',\n  JOM01: 'U2FrbmFz',\n  JOM02: 'UGVyc29uYWxieXRl',\n  JPR: 'UHJpb3JpdGVyaW5n',\n  JPR01: 'RXR0IEpGIGhhciBiZXN05G10IHByaW9yaXRlcmluZ2VuIG1lbGxhbiBlZ25hIHTlZw==',\n  JPR02: 'VHblIEpGIGhhciBiZXN05G10IHByaW9yaXRlcmluZ2VuIG1lbGxhbiB2YXJhbmRyYXMgdOVn',\n  JST: 'U3RhdGlvbuRyIHBlcnNvbmFs',\n  JST01: 'U3RhdGlvbuRyIHBlcnNvbmFsIHNha25hcw==',\n  JTP: 'VGVybWluYWwvUGxhdHRmb3JtLWhhbnRlcmluZw==',\n  JTP01: 'RnVybmVyaW5n',\n  JTP02: 'RvZyc2VuYWQgbGFzdG5pbmcvbG9zc25pbmc=',\n  JTP03: 'UG9zdA==',\n  JTP04: 'SW525G50YWQgZuRyamE=',\n  JTP05: 'SW525G50YXIgdmFnbmFyIGZy5W4ga3VuZA==',\n  JTP06: 'VuR4bGluZ3Ny9nJlbHNlIGl25Gdlbg==',\n  JTP07: 'UmFuZ2VyL1Z4bCB1dPZ2ZXIgcGxhbg==',\n  JTP08: 'T3BsYW5lcmFkIHNhbW1hbnPkdHRuaW5n',\n  JTP09: 'RmVsduR4bGF0IGxvaw==',\n  JTP10: 'U2thZGEgdGVybWluYWxsb2s=',\n  JTP11: 'VGVybWluYWxsb2sgc2FrbmFz',\n  JTP12: 'QnJvbXNwcm92bmluZ3NhbmzkZ2duaW5n',\n  JTP13: 'SkYg9m5za2Vt5Ww=',\n  JTP14: 'TG9rIHNha25hcyBw5SBnb2RzYmFuZ+VyZA==',\n  JTP15: '1nZlcnNrcmlkZW4ga2xhcmf2cmluZ3N0aWQgcOUgZ29kc2JhbmflcmQ=',\n  JTP16: 'SW525G50YWQgZvZyYmluZGVsc2UgYnVzcy90YXhp',\n  JVA: 'VmFnbg==',\n  JVA01: 'RPZycmZlbA==',\n  JVA02: 'QnJvbXNmZWw=',\n  JVA03: 'SGp1bHNrYWRh',\n  JVA04: 'TGFzdGb2cnNranV0bmluZy9GZWxsYXN0bmluZy9MYXN0anVzdGVyaW5n',\n  JVA05: 'U2rkbHZhdmtvcHBsaW5nL0F2c2xpdGV0IHTlZw==',\n  JVA06: 'VmFnbnN5bg==',\n  OBÖ: 'QnJv9nBwbmluZw==',\n  OBÖ01: 'QnJv9nBwbmluZ3N0aWQg9nZlcnNrcmlkZW4=',\n  OBÖ02: 'UGxhbmVyYWQgYnJv9nBwbmluZ3N0aWQ=',\n  ODJ: 'RGp1cg==',\n  ODJ01: 'UOVr9nJ0IHZpbHQ=',\n  ODJ02: 'TGV2YW5kZSBlbGxlciBw5Wv2cmRhIHRhbWRqdXI=',\n  ODJ03: 'TGV2YW5kZSBlbGxlciBw5Wv2cmRhIHJlbmFy',\n  OMÄ: 'TeRubmlza2E=',\n  OMÄ01: 'UOVr9nJkIHBlcnNvbg==',\n  OMÄ02: 'T2JlaPZyaWdhIGkgc3DlcmV0',\n  OMÄ03: 'UG9saXMvc2p1a2RvbQ==',\n  OMÄ04: 'U2Fib3RhZ2UvaG90',\n  ONA: 'TmF0dXJo5G5kZWxzZXI=',\n  ONA01: 'QnJhbmQ=',\n  ONA02: '1nZlcnN25G1uaW5n',\n  ONA03: 'U3Rvcm0vU272c3Rvcm0=',\n  ONA04: 'TGF2aW4=',\n  ONA05: 'U2tyZWQ=',\n  ONA06: 'S3lsYQ==',\n  OSY: 'QXZzeW5pbmcgYXYgYmFuYS9mb3Jkb24=',\n  OSY01: 'QmFuYQ==',\n  OSY02: 'Rm9yZG9u',\n  OTÅ: 'VOVnL2FyYmV0c3L2cmVsc2U=',\n  OTÅ01: 'VXJzcOVybmluZy9rb2xsaXNpb24=',\n  OTÅ02: 'UGxhbmtvcnNuaW5nc29seWNrYQ==',\n  OTÅ03: 'QVRDLW72ZGJyb21z',\n  OTÅ04: 'T3RpbGzldGVuIHN0b3Bwc2lnbmFsLXBhc3NhZ2U=',\n  OTÅ05: 'VXBwa/ZyZCB25HhlbA==',\n  OUT: 'U2VudCB0aWxsL2Zy5W4gdXRsYW5kIGVsbGVyIGFubmFuIGluZnJhc3RydWt0dXJm9nJ2YWx0YXJl',\n  OUT01: 'UGFzcy90dWxs',\n  OVÄ: 'T3Rq5G5saWcgduRkZXJsZWsgcOUgYmFuZ+VyZA==',\n};\n","import codes from './trafikverketCodes';\n\nconst key = process.env.TV_KEY;\nconst auth = `<LOGIN authenticationkey=\"${key}\" />`;\nconst stationMap = {};\n\nconst objectTypes = {\n  TRAIN_STATION: 'TrainStation',\n  TRAIN_MESSAGE: 'TrainMessage',\n  TRAIN_ANNOUNCEMENT: 'TrainAnnouncement',\n};\n\nconst api = {\n  TrainStation({ lat, long, name } = {}, radius = 500) {\n    // station close to\n    if (name) {\n      return `\n        <FILTER>\n          <AND>\n            <LIKE name=\"AdvertisedLocationName\" value=\"/^${name}/\" />\n            <EQ name=\"Advertised\" value=\"true\" />\n          </AND>\n        </FILTER>\n      `;\n    }\n\n    if (lat && long) {\n      return `\n        <FILTER>\n          <AND>\n            <WITHIN name=\"Geometry.WGS84\" shape=\"center\" value=\"${long} ${lat}\" radius=\"${radius}m\" />\n            <EQ name=\"Advertised\" value=\"true\" />\n          </AND>\n        </FILTER>\n      `;\n    }\n\n    return '<FILTER />';\n  },\n  TrainMessage(station) {\n    // message at station\n    return `\n      <FILTER>\n        <EQ name=\"TrafficImpact.AffectedLocation\" value=\"${station}\" />\n      </FILTER>\n    `;\n  },\n  TrainAnnouncement(station) {\n    // departures at station\n    return `\n      <FILTER>\n        <AND>\n          <EQ name=\"Advertised\" value=\"true\" />\n          <EQ name=\"ActivityType\" value=\"Avgang\" />\n          <EQ name=\"LocationSignature\" value=\"${station}\" />\n          <GT name=\"AdvertisedTimeAtLocation\" value=\"$dateadd(00:00:00)\" />\n          <LT name=\"AdvertisedTimeAtLocation\" value=\"$dateadd(05:00:00)\" />\n        </AND>\n      </FILTER>\n    `;\n  },\n};\n\nfunction tvApiRequest(objectType, { apiVersion = 1.3, schemaVersion } = {}, ...args) {\n  if (apiVersion >= 2 && !schemaVersion) {\n    throw Error('schemaVersion must be defined when apiVersion >= 2');\n  }\n  const query = `\n  <QUERY\n    objecttype=\"${objectType}\"\n    ${schemaVersion ? `schemaversion=\"${schemaVersion}\"` : ''}\n    ${objectType === objectTypes.TRAIN_ANNOUNCEMENT ? 'orderby=\"AdvertisedTimeAtLocation\"' : ''}\n  >\n    ${api[objectType](...args)}\n  </QUERY>`;\n\n  return fetch(`https://api.trafikinfo.trafikverket.se/v${apiVersion}/data.json`, {\n    body: `\n      <REQUEST>\n        ${auth}\n        ${query}\n      </REQUEST>\n    `,\n    method: 'POST',\n    mode: 'cors',\n    headers: {\n      'Content-Type': 'text/xml',\n    },\n  })\n    .then((resp) => {\n      const jsonPromise = resp.json().then((json) => json.RESPONSE.RESULT);\n      if (resp.ok) return jsonPromise;\n      return jsonPromise.then((err) => Promise.reject(err));\n    })\n    .then((json) => json[0][objectType] || [])\n    .catch((err) => console.error(err));\n}\n\nfunction logMiddleware(resp) {\n  console.log(resp || 'No results');\n  return resp;\n}\n\nfunction transformStation(station) {\n  return Object.assign({}, station, {\n    name: station.AdvertisedLocationName,\n    id: station.LocationSignature,\n    region: 'TV',\n  });\n}\n\nfunction getClosestStops({ lat, lng }) {\n  return tvApiRequest(objectTypes.TRAIN_STATION, {}, { lat, long: lng }, 5000).then((response) =>\n    response.slice(0, 5).map(transformStation)\n  );\n}\n\nlet resolveStationMap;\nlet rejectStationMap;\nconst stationMapPromise = new Promise((resolve, reject) => {\n  resolveStationMap = resolve;\n  rejectStationMap = reject;\n});\n\nexport default {\n  init() {\n    return tvApiRequest(objectTypes.TRAIN_STATION)\n      .then((stations) => {\n        stations.forEach((station) => {\n          stationMap[station.LocationSignature] = station.AdvertisedLocationName;\n        });\n        return resolveStationMap(stationMap);\n      })\n      .catch(rejectStationMap);\n  },\n  getClosestStops,\n  getClosestStop(pos) {\n    return getClosestStops(pos).then((stops) => stops[0]);\n  },\n  getTrafficSituations(location) {\n    return tvApiRequest(\n      objectTypes.TRAIN_MESSAGE,\n      { apiVersion: 2, schemaVersion: '1.6' },\n      location\n    )\n      .then(logMiddleware)\n      .then((situations) => {\n        return {\n          messages: situations.map(({ ExternalDescription, ReasonCode }) => {\n            return (\n              ExternalDescription +\n              ` (${ReasonCode.map(\n                ({ Code, Description }) => Description + ' - ' + atob(codes[Code])\n              ).join(', ')})`\n            );\n          }),\n        };\n      });\n  },\n  async getDeparturesFrom(station) {\n    return tvApiRequest(objectTypes.TRAIN_ANNOUNCEMENT, {}, station)\n      .then((resp) => (resp || []).slice(0, 30))\n      .then(logMiddleware)\n      .then(async (deps) => {\n        await stationMapPromise;\n        return deps;\n      })\n      .then((deps) =>\n        deps.map((dep) => ({\n          ...dep,\n          id: dep.ActivityId,\n          direction: dep.ToLocation && (stationMap[dep.ToLocation[0].LocationName] || ''),\n          via: dep.ViaToLocation && (stationMap[dep.ViaToLocation[0].LocationName] || ''),\n          name: `${dep.ProductInformation.join(' ')}`,\n          time: dep.AdvertisedTimeAtLocation.substr(-8, 5),\n          timestamp: new Date(dep.AdvertisedTimeAtLocation).getTime(),\n          isLate: false,\n          track: dep.TrackAtLocation,\n          sname: dep.ProductInformation[0],\n        }))\n      );\n  },\n  findStops(name) {\n    return tvApiRequest(objectTypes.TRAIN_STATION, {}, { name }).then((stations) =>\n      stations.slice(0, 15).map(transformStation)\n    );\n  },\n  stationMap,\n};\n","const travelPlanner = 'https://api.vasttrafik.se/bin/rest.exe/v2';\nconst trafficSituations = 'https://api.vasttrafik.se/ts/v1/traffic-situations';\nlet authToken;\nlet expDate;\n\nfunction getTrafficSituations(gid, method) {\n  const url = method ? `${trafficSituations}/${method}/${gid}` : trafficSituations;\n  return anropaVasttrafik(url, { Accept: 'application/json' }).then((situations) =>\n    situations.reduce(\n      (res, { title, description, affectedLines }) => ({\n        messages: res.messages.concat(`${title} ${description}`),\n        affectedLines: []\n          .concat(\n            res.affectedLines,\n            affectedLines.map(({ designation }) => designation)\n          )\n          .filter((x) => x),\n      }),\n      { messages: [] }\n    )\n  );\n}\n\nfunction getTripSuggestion(from, dest) {\n  const now = new Date();\n  const date = now.toISOString().substr(0, 10);\n  const time = now.toLocaleTimeString().substr(0, 5);\n  const tripUrl = `${travelPlanner}/trip?originId=${from}&destId=${dest}&date=${date}&time=${time}&format=json`;\n  return anropaVasttrafik(tripUrl).then((json) =>\n    asArray(json.TripList.Trip).map((trip) => asArray(trip.Leg))\n  );\n}\n\nfunction findStops(text) {\n  const requestUrl = `${travelPlanner}/location.name?input=${encodeURIComponent(text)}&format=json`;\n  return anropaVasttrafik(requestUrl)\n    .then((json) => asArray(json.LocationList.StopLocation).slice(0, 5))\n    .then((stops) =>\n      stops.map((stop) =>\n        Object.assign({}, stop, {\n          region: 'VT',\n        })\n      )\n    );\n}\n\nfunction transformTrips(trips) {\n  return trips.map((trip) => {\n    const isLate = trip.rtTime && trip.rtTime !== trip.time;\n    const time = trip.rtTime || trip.time;\n    const date = trip.rtDate || trip.date;\n    const bgColor = trip.bgColor || 'white';\n    const timestamp = new Date(`${date}T${time}`).getTime();\n\n    return Object.assign({}, trip, {\n      region: 'VT',\n      cancelled: Boolean(trip.cancelled),\n      isLate,\n      bgColor,\n      timestamp,\n    });\n  });\n}\n\nfunction getArrivalsTo(id, timeSpan) {\n  const now = new Date();\n  const date = now.toISOString().substr(0, 10);\n  const time = now.toLocaleTimeString().substr(0, 5);\n  let requestUrl = `${travelPlanner}/arrivalBoard?id=${encodeURIComponent(\n    id\n  )}&date=${encodeURIComponent(date)}&time=${encodeURIComponent(time)}&format=json`;\n  if (timeSpan) {\n    requestUrl = `${requestUrl}&timeSpan=${timeSpan}`;\n  }\n  return getTimeTable(id, requestUrl)\n    .then((json) => json.ArrivalBoard.Arrival)\n    .then(transformTrips);\n}\n\nfunction getDeparturesFrom(id, timeSpan) {\n  let requestUrl = `${travelPlanner}/departureBoard?id=${encodeURIComponent(id)}&format=json`;\n  if (timeSpan) {\n    requestUrl = `${requestUrl}&timeSpan=${timeSpan}`;\n  }\n  return getTimeTable(id, requestUrl)\n    .then((json) => json.DepartureBoard.Departure || [])\n    .then((trips) =>\n      trips.filter(\n        ({ journeyid }, idx) =>\n          !trips.slice(0, idx).some((prevTrip) => prevTrip.journeyid === journeyid)\n      )\n    )\n    .then(transformTrips);\n}\n\nfunction getTimeTable(id, requestUrl) {\n  return anropaVasttrafik(requestUrl).then((res) => {\n    const { error, errorText } = res;\n    if (error || errorText) {\n      console.error('[getTimeTable]', error || errorText);\n    }\n    return res;\n  });\n}\n\nfunction getLiveMap({ south, west, north, east }) {\n  const getWGS84 = (coord) => Math.round(coord * 1000000);\n  const url = `${travelPlanner}/livemap?minx=${getWGS84(west)}&miny=${getWGS84(\n    south\n  )}&maxx=${getWGS84(east)}&maxy=${getWGS84(north)}&onlyRealtime=yes`;\n  return anropaVasttrafik(url).then(({ livemap }) => livemap.vehicles);\n}\n\nfunction getJourneyDetail(url) {\n  return anropaVasttrafik(url).then(({ JourneyDetail }) => JourneyDetail);\n}\n\nfunction getGeometry(url) {\n  return anropaVasttrafik(url).then(({ Geometry }) => Geometry);\n}\n\nfunction anropaVasttrafik(url, userHeaders) {\n  const accessTokenPromise = Promise.resolve();\n  const headers = {\n    ...userHeaders,\n    Authorization: `Bearer ${authToken}`,\n  };\n\n  if (!expDate || expDate.getTime() < Date.now()) {\n    console.log('Need to update authtoken');\n    accessTokenPromise.then(getAccessToken);\n  }\n\n  return accessTokenPromise.then(() => fetch(url, { headers })).then(fetchMiddleware);\n}\n\nfunction getClosestStops({ lat, lng }, limit = 5, retry = true) {\n  const url = `${travelPlanner}/location.nearbystops?originCoordLat=${lat}&originCoordLong=${lng}&maxNo=${limit *\n    2}&format=json`;\n  return anropaVasttrafik(url)\n    .then((json) => {\n      if (json.LocationList.errorText) {\n        throw new Error(json.LocationList.errorText);\n      }\n\n      if (!json.LocationList.StopLocation) {\n        return [];\n      }\n\n      return json.LocationList.StopLocation.filter(({ name }, index, self) => {\n        const firstMatch = self.findIndex((stop) => stop.name === name);\n        return firstMatch === index;\n      })\n        .map((stop) => ({\n          ...stop,\n          region: 'VT',\n        }))\n        .slice(0, limit);\n    })\n    .catch((reason) => {\n      if (retry) {\n        console.error('[getClosestStops]:', reason, 'retrying');\n        getClosestStops({ lat, lng }, limit, false);\n      } else {\n        console.error('[getClosestStops]', reason);\n        throw reason;\n      }\n    });\n}\n\nfunction getAccessToken() {\n  const key = process.env.VT_BASIC_AUTH;\n  return fetch('https://api.vasttrafik.se:443/token', {\n    headers: {\n      Authorization: `Basic ${key}`,\n      'Content-Type': 'application/x-www-form-urlencoded',\n    },\n    method: 'POST',\n    body: 'grant_type=client_credentials',\n  })\n    .then(fetchMiddleware)\n    .then((resp) => {\n      authToken = resp.access_token;\n      expDate = new Date(Date.now() + resp.expires_in * 1000);\n      console.log(`AuthToken expires ${expDate.toLocaleString()}`);\n      return resp.access_token;\n    });\n}\n\nfunction fetchMiddleware(response) {\n  if (response.ok) return response.json();\n  return response.json().then((err) => Promise.reject(err));\n}\n\nfunction asArray(arg) {\n  return arg ? [].concat(arg) : [];\n}\n\nfunction init() {\n  return getAccessToken();\n}\n\nexport default {\n  init,\n  getClosestStop: (pos) => getClosestStops(pos, 1),\n  getClosestStops,\n  findStops,\n  getGeometry,\n  getJourneyDetail,\n  getTripSuggestion,\n  getDeparturesFrom,\n  getArrivalsTo,\n  getTrafficSituations,\n  getLiveMap,\n  transformTrips,\n};\n","const baseUrl = 'http://api.sl.se/api2';\nconst fetchOptions = {\n  method: 'GET',\n};\n\nconst lineNumberColors = {\n  '7': 'gray',\n  '10': '#1C7F2A', // blue\n  '11': '#1C7F2A',\n  '12': 'gray',\n  '13': '#D51427', // red\n  '14': '#D51427',\n  '17': '#60A42B', // green\n  '18': '#60A42B',\n  '19': '#60A42B',\n  '21': 'brown',\n  '22': 'orange',\n  '25': 'turquoise',\n  '26': 'turquoise',\n  '27': 'purple',\n  '28': 'purple',\n  '29': 'purple',\n  '40': 'pink',\n  '41': 'pink',\n  '42': 'pink',\n  '43': 'pink',\n  '44': 'pink',\n  '45': 'pink',\n  '48': 'pink',\n};\nfunction getColorFromLineNo(lineNo) {\n  return lineNumberColors[lineNo] || '#A4A5A7'; // gray\n}\n\nfunction transformStop(stop) {\n  return {\n    ...stop,\n    HafasId: stop.id,\n    id: stop.id.substr(-4),\n    region: 'SL',\n  };\n}\n\nfunction getClosestStops({ lat, lng }, limit = 5) {\n  const key = process.env.SL_NEARBY_STOPS_KEY;\n  const url = `nearbystops.json?key=${key}&originCoordLat=${lat}&originCoordLong=${lng}&maxresults=${limit}`;\n  return makeRequest(url).then((json) => {\n    const stops = Array.from(json.LocationList.StopLocation);\n    return stops.map(transformStop);\n  });\n}\n\nfunction getClosestStop(pos) {\n  return getClosestStops(pos, 1)[0];\n}\n\nfunction findStops(term) {\n  const key = process.env.SL_TYPE_AHEAD_KEY;\n  const url = `typeahead.json?key=${key}&searchstring=${encodeURIComponent(term)}&maxresults=5`;\n  return makeRequest(url)\n    .then((json) => asArray(json.ResponseData))\n    .then((stops) =>\n      stops\n        .filter((stop, idx) => {\n          const firstIndex = stops.findIndex(({ SiteId }) => SiteId === stop.SiteId);\n          return firstIndex >= idx;\n        })\n        .slice(0, 5)\n        .map((stop) => ({\n          ...stop,\n          name: stop.Name,\n          id: stop.SiteId,\n          region: 'SL',\n        }))\n    );\n}\n\nconst vehicules = {\n  BUS: 'Buss',\n  METRO: 'T-bana',\n  SHIP: 'Båt',\n  TRAIN: 'Tåg',\n  TRAM: 'Spårvagn',\n};\nfunction vehicule(key) {\n  return vehicules[key] || key;\n}\n\nfunction getDeparturesFrom(siteId) {\n  const key = process.env.SL_REALTIME_DEPARTURES_KEY;\n  const url = `realtimedeparturesV4.json?key=${key}&siteid=${siteId}&timewindow=30`;\n  return makeRequest(url).then((json) =>\n    [\n      ...json.ResponseData.Buses,\n      ...json.ResponseData.Metros,\n      ...json.ResponseData.Ships,\n      ...json.ResponseData.Trains,\n      ...json.ResponseData.Trams,\n    ].map((trip) => ({\n      ...trip,\n      fgColor: getColorFromLineNo(trip.LineNumber),\n      bgColor: 'white',\n      direction: trip.Destination,\n      timestamp: new Date(trip.ExpectedDateTime || trip.TimeTabledDateTime).getTime(),\n      time: trip.TimeTabledDateTime.substr(11, 5),\n      rtTime: trip.ExpectedDateTime.substr(11, 5),\n      name: `${vehicule(trip.TransportMode)} ${trip.LineNumber}`,\n      sname: trip.LineNumber,\n      track: trip.StopPointDesignation || trip.JourneyDirection,\n      region: 'SL',\n      href: '#',\n      isLate: Boolean(trip.ExpectedDateTime && trip.TimeTabledDateTime !== trip.ExpectedDateTime),\n    }))\n  );\n}\n\nfunction getTrafficSituations(siteId) {\n  const key = process.env.SL_DEVIATIONS_KEY;\n  const url = `deviations.json?key=${key}&siteId=${siteId}`;\n  return makeRequest(url)\n    .then((json) => asArray(json.ResponseData))\n    .then((json) => {\n      return {\n        messages: json.map(({ Details }) => Details),\n      };\n    });\n}\n\nfunction fetchMiddleware(response) {\n  if (response.ok && response.status !== 204) {\n    return response.json();\n  }\n\n  if (!response.ok) {\n    return response.json().then((err) => Promise.reject(err));\n  }\n\n  console.log('fetchMiddleware: not json and no error');\n  return response;\n}\n\nfunction asArray(arg) {\n  return (arg && [].concat(arg)) || [];\n}\n\nfunction makeRequest(path) {\n  const url = `${baseUrl}/${path}`;\n  const requestUrl = `https://request-proxy.herokuapp.com/?url=${encodeURIComponent(url)}`;\n  return fetch(requestUrl, fetchOptions)\n    .then(fetchMiddleware)\n    .catch((err) => console.error(err));\n}\n\nexport default {\n  getClosestStop,\n  getClosestStops,\n  getDeparturesFrom,\n  getTrafficSituations,\n  findStops,\n  init() {\n    return Promise.resolve();\n  },\n};\n","const keyRes = process.env.RESROBOT_RESEPLANERARE_KEY;\nconst keyTab = process.env.RESROBOT_STOLPTIDTABELLER_KEY;\nconst baseUrl = 'https://api.resrobot.se/v2';\nconst fetchOptions = {\n  method: 'GET',\n  headers: {\n    Accept: 'application/json',\n  },\n};\n\nfunction transformStop(stop) {\n  return {\n    ...stop,\n    name: stop.name.replace(/\\([^)]*\\)$/, ''),\n    region: 'RR',\n  };\n}\n\nfunction byMostTrafficatedStop(a, b) {\n  const aName = a.name.split(' ')[0];\n  const bName = b.name.split(' ')[0];\n  if (aName !== bName) return 0;\n  return a.weight < b.weight ? 1 : -1;\n}\n\nasync function getClosestStops({ lat, lng }, limit = 5) {\n  const url = `location.nearbystops?&originCoordLat=${lat}&originCoordLong=${lng}&maxNo=${limit}`;\n  return makeRequest(url).then((json) => {\n    return json.StopLocation.map(transformStop).sort(byMostTrafficatedStop);\n  });\n}\n\nfunction getClosestStop(pos) {\n  return getClosestStops(pos, 1)[0];\n}\n\nasync function findStops(term) {\n  const url = `location.name?input=${encodeURIComponent(term)}&maxNo=5`;\n  return makeRequest(url).then((json) => json.StopLocation.map(transformStop));\n}\n\nasync function getDeparturesFrom(id) {\n  const url = `departureBoard?id=${id}`;\n  return makeRequest(url, keyTab).then((json) => {\n    return json.Departure.map((trip) => ({\n      ...trip,\n      fgColor: '#0080ac',\n      bgColor: 'white',\n      timestamp: new Date(trip.ExpectedDateTime || trip.TimeTabledDateTime).getTime(),\n      time: trip.time.substr(0, 5),\n      rtTime: trip.rtTime && trip.rtTime.substr(0, 5),\n      direction: trip.direction\n        .replace(/\\([^)]*\\)$/, '')\n        .replace('T-bana', '')\n        .trim(),\n      name: trip.name.replace('Länstrafik - ', ''),\n      sname: trip.transportNumber,\n      track: trip.rtDepTrack || trip.rtTrack,\n      region: 'RR',\n      href: '#',\n      isLate: Boolean(trip.rtTime && trip.time !== trip.rtTime),\n    }));\n  });\n}\n\nfunction getTrafficSituations() {\n  return Promise.resolve({ messages: [] });\n}\n\nfunction fetchMiddleware(response) {\n  if (response.ok && response.status !== 204) {\n    return response.json();\n  }\n\n  if (!response.ok) {\n    return response.json().then((err) => Promise.reject(err));\n  }\n\n  console.log('fetchMiddleware: not json and no error');\n  return response;\n}\n\nfunction makeRequest(path, key = keyRes) {\n  const url = `${baseUrl}/${path}&key=${key}&format=json`;\n  return fetch(url, fetchOptions)\n    .then(fetchMiddleware)\n    .catch((err) => console.error(err));\n}\n\nexport default {\n  getClosestStop,\n  getClosestStops,\n  getDeparturesFrom,\n  getTrafficSituations,\n  findStops,\n  init() {\n    return Promise.resolve();\n  },\n};\n","import TV from './trafikverket';\nimport VT from './vasttrafik';\nimport SL from './sl';\nimport RR from './resrobot';\n\nexport const apiDict = {\n  TV: {\n    track: 'Spår',\n    sname: 'Linje',\n  },\n  VT: {\n    track: 'Läge',\n    sname: 'Linje',\n  },\n  SL: {\n    track: 'Läge',\n    sname: 'Linje',\n  },\n  RR: {\n    track: 'Läge',\n    sname: 'Linje',\n  },\n};\n\nexport default {\n  VT,\n  TV,\n  SL,\n  RR,\n};\n","<template>\n  <div :class=\"[$style.container, className]\">\n    <h2>Inställningar</h2>\n\n    <p :class=\"$style.label\">API</p>\n    <div :class=\"$style.apis\">\n      <button\n        v-for=\"api in apis\"\n        :key=\"api\"\n        :class=\"[$style.apiBtn, api === apiName && $style.apiBtnActive]\"\n        @click=\"toggleApi(api)\"\n      >\n        {{ getLongName(api) }}\n        <font-awesome v-if=\"api === apiName && initializing\" icon=\"spinner\" spin />\n      </button>\n    </div>\n\n    <p :class=\"$style.label\">Other</p>\n    <p>\n      <label>\n        Dark/Light mode:\n        <select name=\"darkMode\" :class=\"$style.timeSpan\" @change=\"updateDarkMode\">\n          <option\n            v-for=\"mode in viewModes\"\n            :key=\"mode.value\"\n            :selected=\"mode.value === viewMode\"\n            :value=\"mode.value\"\n          >\n            {{ mode.name }}\n          </option>\n        </select>\n      </label>\n    </p>\n    <p>\n      <label>\n        Hämta resor inom:\n        <select name=\"timeSpan\" :class=\"$style.timeSpan\" @change=\"updateFilter\">\n          <option\n            v-for=\"span in timeSpans\"\n            :key=\"span.value\"\n            :selected=\"span.value === filter.timeSpan\"\n            :value=\"span.value\"\n          >\n            {{ span.name }}\n          </option>\n        </select>\n      </label>\n    </p>\n    <p>\n      <label :class=\"$style.voice\">\n        Uppläsning: {{ options.voice ? 'På' : 'Av' }}\n        <font-awesome :icon=\"['fas', options.voice ? 'volume-up' : 'volume-off']\" />\n        <input\n          :class=\"$style.voiceCheckbox\"\n          :checked=\"options.voice\"\n          name=\"voice\"\n          type=\"checkbox\"\n          @input=\"updateOption\"\n        />\n      </label>\n    </p>\n\n    <p :class=\"$style.label\">Build info</p>\n    <div>\n      <p>{{ buildTime }}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions, mapMutations } from 'vuex';\n\nimport apis from '../api';\n\nconst DARK_MODE_NAME = 'darkMode';\n\nexport default {\n  name: 'AppSettings',\n  props: {\n    className: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  data() {\n    return {\n      buildTime: process.env.BUILD_TIME,\n      apis: Object.keys(apis),\n      viewModes: [\n        { value: '', name: 'OS default' },\n        { value: 'dark-mode', name: 'Dark mode' },\n        { value: 'light-mode', name: 'Light mode' },\n      ],\n      viewMode: '',\n      timeSpans: [\n        { value: '', name: 'API default' },\n        { value: '30', name: '30 min' },\n        { value: '60', name: '1 timme' },\n        { value: '120', name: '2 timmar' },\n        { value: '180', name: '3 timmar' },\n        { value: '360', name: '6 timmar' },\n        { value: '720', name: '12 timmar' },\n        { value: '1440', name: '24 timmar' },\n      ],\n    };\n  },\n  computed: {\n    ...mapState('trips', ['filter', 'options']),\n    ...mapState('api', {\n      apiName: ({ name }) => name,\n      initializing: ({ initializing }) => initializing,\n    }),\n  },\n  mounted() {\n    const prevVal = localStorage.getItem(DARK_MODE_NAME);\n    if (prevVal) {\n      this.viewMode = prevVal;\n      document.documentElement.classList.add(prevVal);\n    }\n  },\n  methods: {\n    ...mapActions('api', ['toggleApi']),\n    ...mapMutations('trips', ['setOptions', 'setFilter']),\n    updateFilter({ target }) {\n      const { name, value } = target;\n      if (!name) return;\n      this.setFilter({ [name]: value });\n    },\n    updateOption({ target }) {\n      const { name, checked } = target;\n      if (!name) return;\n      this.setOptions({ [name]: checked });\n    },\n    updateDarkMode({ target }) {\n      const { name, value } = target;\n      if (!name) return;\n\n      const prevVal = localStorage.getItem(DARK_MODE_NAME);\n      prevVal && document.documentElement.classList.remove(prevVal);\n\n      localStorage.setItem(DARK_MODE_NAME, value);\n      this.viewMode = value;\n      value && document.documentElement.classList.add(value);\n    },\n    getLongName(api) {\n      switch (api) {\n        case 'TV':\n          return 'TrafikVerket';\n        case 'VT':\n          return 'VästTrafik';\n        default:\n          return api;\n      }\n    },\n  },\n};\n</script>\n\n<style module>\n.container {\n  background-color: var(--brand-color);\n  color: var(--brand-text-color);\n  height: 100%;\n  padding: 1em;\n}\n\n.label {\n  color: rgba(255, 255, 255, 0.75);\n  margin-top: 1.5em;\n  text-transform: uppercase;\n}\n\n.apis {\n  display: flex;\n  justify-content: space-between;\n}\n\n.apiBtn {\n  background: transparent;\n  border: 1px solid var(--brand-text-color);\n  color: var(--brand-text-color);\n  flex: 1;\n  display: flex;\n  font-size: 1em;\n  padding: 0.5em;\n  justify-content: center;\n}\n.apiBtnActive {\n  background: var(--brand-text-color);\n  color: var(--brand-color);\n}\n.apiBtn:focus {\n  outline: none;\n}\n\n.timeSpan {\n  -moz-appearance: none;\n  -webkit-appearance: none;\n  appearance: none;\n  background-color: transparent;\n  background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23FFF%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E');\n  background-repeat: no-repeat, repeat;\n  background-position: right 0.7em top 50%, 0 0;\n  background-size: 0.65em auto, 100%;\n  border: 1px solid var(--brand-text-color-dim);\n  border-radius: 0;\n  box-shadow: none;\n  color: var(--brand-text-color);\n  display: block;\n  font-size: 1em;\n  font-family: inherit;\n  padding: 0.6em 1.4em 0.5em 0.8em;\n  position: relative;\n  width: 100%;\n  max-width: 100%;\n}\n.timeSpan:after {\n  background: white;\n  display: block;\n  content: '';\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 10px;\n  height: 10px;\n}\n\n.voiceCheckbox {\n  display: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSettings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppSettings.vue?vue&type=template&id=ba0f3236&\"\nimport script from \"./AppSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./AppSettings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppSettings.vue?vue&type=style&index=0&module=true&lang=css&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {\nvar _obj, _obj$1;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{class:_vm.$style.stationInfo},[_c('div',{class:_vm.$style.form},[_c('LocationInput',{attrs:{\"disabled\":_vm.initializing,\"label\":\"Hållplats\"}})],1),(_vm.showArrDepSelection)?_c('div',{class:_vm.$style.arrDep},[_c('button',{class:[_vm.$style.arrDepBtn, ( _obj = {}, _obj[_vm.$style.arrDepBtnSelected] = !_vm.arrivals, _obj )],on:{\"click\":function($event){return _vm.setArrivals(false)}}},[_vm._v(\" Avgångar \")]),_c('button',{class:[_vm.$style.arrDepBtn, , ( _obj$1 = {}, _obj$1[_vm.$style.arrDepBtnSelected] = _vm.arrivals, _obj$1 )],on:{\"click\":function($event){return _vm.setArrivals(true)}}},[_vm._v(\" Ankomster \")])]):_vm._e(),_c('div',{class:_vm.$style.content},[_c('TripsTable',{attrs:{\"from-to-label\":_vm.fromToLabel}}),_c('JourneyDetails'),(_vm.location)?_c('footer',{class:_vm.$style.situations},[_c('MessageCarousel',{attrs:{\"messages\":_vm.mergedSituations}})],1):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.messages.length > 0)?_c('div',{class:_vm.$style.carousel},[_c('div',{class:_vm.$style.items,style:({ transform: (\"translateX(\" + _vm.translateX + \")\") }),on:{\"touchstart\":_vm.onTouchStart}},_vm._l((_vm.messages),function(msg,idx){return _c('div',{key:idx,class:_vm.$style.item},[_vm._v(\" \"+_vm._s(msg)+\" \")])}),0),_c('div',{class:_vm.$style.dots},[_c('button',{class:_vm.$style.playPauseBtn,on:{\"click\":_vm.playPause}},[_c('font-awesome',{attrs:{\"icon\":['fas', _vm.intervalId ? 'pause' : 'play']}})],1),_vm._l((_vm.messages),function(msg,idx){\nvar _obj;\nreturn _c('button',{key:msg,class:_vm.$style.dotBtn,on:{\"click\":function($event){return _vm.setActive(idx)}}},[_c('div',{class:[_vm.$style.dot, ( _obj = {}, _obj[_vm.$style.activeDot] = _vm.active === idx, _obj )]})])})],2)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"messages.length > 0\" :class=\"$style.carousel\">\n    <div\n      :class=\"$style.items\"\n      :style=\"{ transform: `translateX(${translateX})` }\"\n      @touchstart=\"onTouchStart\"\n    >\n      <div v-for=\"(msg, idx) in messages\" :key=\"idx\" :class=\"$style.item\">\n        {{ msg }}\n      </div>\n    </div>\n    <div :class=\"$style.dots\">\n      <button :class=\"$style.playPauseBtn\" @click=\"playPause\">\n        <font-awesome :icon=\"['fas', intervalId ? 'pause' : 'play']\" />\n      </button>\n      <button\n        v-for=\"(msg, idx) in messages\"\n        :key=\"msg\"\n        :class=\"$style.dotBtn\"\n        @click=\"setActive(idx)\"\n      >\n        <div :class=\"[$style.dot, { [$style.activeDot]: active === idx }]\" />\n      </button>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'MessageCarousel',\n  props: {\n    messages: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  data() {\n    return {\n      active: 0,\n      intervalId: null,\n      wait: 5000,\n    };\n  },\n  computed: {\n    translateX() {\n      return this.active * -100 + '%';\n    },\n  },\n  mounted() {\n    this.play();\n  },\n  beforeDestroy() {\n    this.pause();\n  },\n  methods: {\n    setActive(value) {\n      this.pause();\n      this.active = value;\n      this.play();\n    },\n    selectNextActive() {\n      this.active = (this.active + 1) % this.messages.length;\n    },\n    play() {\n      this.intervalId = setInterval(this.selectNextActive, this.wait);\n    },\n    pause() {\n      clearInterval(this.intervalId);\n      this.intervalId = null;\n    },\n    playPause() {\n      if (this.intervalId) {\n        this.pause();\n      } else {\n        this.play();\n      }\n    },\n    onTouchStart(startEvt) {\n      const target = startEvt.target;\n      const startX = startEvt.changedTouches[0].clientX;\n      const onTouchEnd = (endEvt) => {\n        target.removeEventListener('touchend', onTouchEnd);\n        const endX = endEvt.changedTouches[0].clientX;\n        const deltaX = startX - endX;\n        const wasSwipe = Math.abs(deltaX) > 50;\n        if (!wasSwipe) return;\n        if (deltaX > 0) {\n          this.setActive((this.active + 1) % this.messages.length);\n        } else {\n          this.setActive(this.active > 0 ? this.active - 1 : this.messages.length - 1);\n        }\n      };\n      target.addEventListener('touchend', onTouchEnd);\n    },\n  },\n};\n</script>\n<style module>\n.carousel {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  overflow: hidden;\n  position: relative;\n  padding: 1em 0;\n}\n\n.playPauseBtn {\n  background: transparent;\n  border: none;\n  color: rgba(255, 255, 255, 0.5);\n  cursor: pointer;\n  display: none;\n  font-size: 1em;\n  margin-right: 0.5em;\n  padding: 0;\n}\n.playPauseBtn:hover,\n.playPauseBtn:focus {\n  color: rgba(255, 255, 255, 0.85);\n  outline: none;\n  transform: scale(1.2);\n}\n\n.items {\n  display: flex;\n  transition: transform 0.3s ease-in-out;\n  width: 100%;\n  will-change: transform;\n}\n\n.item {\n  line-height: 1.5em;\n  flex: 0 0 100%;\n  padding: 0 1em;\n}\n\n.dots {\n  display: flex;\n  margin-top: 0.5em;\n}\n\n.dotBtn {\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n  padding: 1em;\n}\n.dotBtn:focus {\n  outline: none;\n}\n\n.dot {\n  background-color: rgba(255, 255, 255, 0.5);\n  border-radius: 50%;\n  width: 7px;\n  height: 7px;\n}\n.activeDot {\n  background-color: rgba(255, 255, 255, 0.85);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageCarousel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageCarousel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageCarousel.vue?vue&type=template&id=75cfca2a&\"\nimport script from \"./MessageCarousel.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageCarousel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MessageCarousel.vue?vue&type=style&index=0&module=true&lang=css&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {\nvar _obj;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{class:[_vm.$style.journeyDetails, ( _obj = {}, _obj[_vm.$style.display] = _vm.showJourneyDetails, _obj )]},[_c('header',{class:_vm.$style.header},[_c('h2',{class:_vm.$style.heading},[_vm._v(\"Detaljer\")]),(_vm.loadingJourneyDetails)?_c('font-awesome',{attrs:{\"icon\":\"spinner\",\"spin\":\"\"}}):_vm._e(),_c('button',{class:_vm.$style.closeBtn,on:{\"click\":function($event){$event.preventDefault();return _vm.setShowJourneyDetails(false)}}},[_c('font-awesome',{attrs:{\"icon\":\"times\"}})],1)],1),_c('p',{class:_vm.$style.journeyMeta},[(!_vm.loadingJourneyDetails)?_c('span',[_vm._v(_vm._s(_vm.journey.name)+\" mot \"+_vm._s(_vm.journey.direction))]):_vm._e(),_c('a',{class:_vm.$style.mapLink,attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.setCurrentTab('Karta')}}},[_vm._v(\"Visa på karta\")])]),(!_vm.loadingJourneyDetails)?_c('div',{class:_vm.$style.stopList},_vm._l((_vm.stops),function(stop){\nvar _obj;\nreturn _c('div',{key:stop.depTime + stop.name,class:[_vm.$style.stop, ( _obj = {}, _obj[_vm.$style.stopPassed] = stop.didPass, _obj )]},[_c('div',{class:_vm.$style.stopDotCell},[_c('div',{class:_vm.$style.stopDot})]),_c('div',{class:_vm.$style.stopTime},[_vm._v(_vm._s(stop.rtDepTime || stop.depTime))]),_c('div',{class:_vm.$style.stopName},[_vm._v(_vm._s(stop.name))]),_c('div',{class:_vm.$style.stopTrack},[_vm._v(_vm._s(stop.track))])])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <aside :class=\"[$style.journeyDetails, { [$style.display]: showJourneyDetails }]\">\n    <header :class=\"$style.header\">\n      <h2 :class=\"$style.heading\">Detaljer</h2>\n      <font-awesome v-if=\"loadingJourneyDetails\" icon=\"spinner\" spin />\n      <button :class=\"$style.closeBtn\" @click.prevent=\"setShowJourneyDetails(false)\">\n        <font-awesome icon=\"times\" />\n      </button>\n    </header>\n    <p :class=\"$style.journeyMeta\">\n      <span v-if=\"!loadingJourneyDetails\">{{ journey.name }} mot {{ journey.direction }}</span>\n      <a :class=\"$style.mapLink\" href=\"#\" @click.prevent=\"setCurrentTab('Karta')\">Visa på karta</a>\n    </p>\n    <div v-if=\"!loadingJourneyDetails\" :class=\"$style.stopList\">\n      <div\n        v-for=\"stop of stops\"\n        :key=\"stop.depTime + stop.name\"\n        :class=\"[$style.stop, { [$style.stopPassed]: stop.didPass }]\"\n      >\n        <div :class=\"$style.stopDotCell\">\n          <div :class=\"$style.stopDot\" />\n        </div>\n        <div :class=\"$style.stopTime\">{{ stop.rtDepTime || stop.depTime }}</div>\n        <div :class=\"$style.stopName\">{{ stop.name }}</div>\n        <div :class=\"$style.stopTrack\">{{ stop.track }}</div>\n      </div>\n    </div>\n  </aside>\n</template>\n<script>\nimport { mapState, mapMutations } from 'vuex';\n\nexport default {\n  name: 'JourneyDetails',\n  data() {\n    return {\n      now: Date.now(),\n      timeoutId: null,\n    };\n  },\n  computed: {\n    ...mapState(['showJourneyDetails', 'loadingJourneyDetails', 'selectedJourney']),\n    journey() {\n      const journey = this.selectedJourney;\n      if (!journey) return {};\n      const names = [].concat(journey.JourneyName);\n      if (names.length === 0) {\n        return {};\n      }\n      const journeyDir = [].concat(journey.Direction);\n      return {\n        name: names[0].name,\n        direction: journeyDir[journeyDir.length - 1].$,\n      };\n    },\n    stops() {\n      const journey = this.selectedJourney;\n      if (!journey) return [];\n      return journey.Stop.map((stop) => {\n        const departed = new Date(`${stop.depDate}T${stop.depTime}`).getTime();\n        return {\n          ...stop,\n          didPass: departed < this.now,\n        };\n      });\n    },\n  },\n  mounted() {\n    this.timeoutId = setInterval(() => {\n      this.now = Date.now();\n    }, 30000);\n  },\n  beforeDestroy() {\n    clearInterval(this.timeoutId);\n  },\n  methods: {\n    ...mapMutations(['setShowJourneyDetails']),\n    ...mapMutations('tabs', ['setCurrentTab']),\n  },\n};\n</script>\n<style module>\n.journeyDetails {\n  background: white;\n  color: var(--dark-text-color);\n  display: none;\n  flex: 1;\n  width: 100%;\n}\n.display {\n  display: block;\n}\n\n.header {\n  background: var(--brand-color);\n  border-left: 1px solid var(--brand-text-color);\n  color: var(--brand-text-color);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-left: 1em;\n}\n.heading {\n  font-size: 1em;\n  font-weight: bold;\n  margin: 0;\n}\n.closeBtn {\n  background: transparent;\n  border: none;\n  color: var(--brand-text-color);\n  cursor: pointer;\n  font-size: 1em;\n  padding: 0.5em 1em;\n}\n.journeyMeta {\n  color: var(--darker-text-color);\n  display: flex;\n  justify-content: space-between;\n  padding: 0 1em;\n}\n.mapLink {\n  color: var(--brand-color);\n  text-decoration: none;\n}\n.mapLink:hover {\n  text-decoration: underline;\n}\n\n.stopList {\n  margin-bottom: 2em;\n}\n.stop {\n  display: flex;\n  align-items: stretch;\n  line-height: 2em;\n  padding: 0 1em 0 0.5em;\n}\n.stop > div:not(:first-child) {\n  border-bottom: 1px solid lightgray;\n  padding: 0 0.5em;\n}\n.stop > div:last-child {\n  padding-right: 0;\n}\n.stop:last-child > div {\n  border-bottom: none;\n}\n\n.stopDotCell {\n  flex-shrink: 0;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 0.5em;\n}\n.stopDot {\n  background: lightblue;\n  border-radius: 50%;\n  width: 8px;\n  height: 8px;\n}\n.stopDot:before,\n.stopDot:after {\n  background: lightblue;\n  display: block;\n  content: '';\n  width: 4px;\n  height: 50%;\n  position: absolute;\n  top: 0;\n  left: calc(50% - 2px);\n}\n.stopDot:after {\n  top: 50%;\n}\n.stop:first-child .stopDot:before {\n  height: 0;\n}\n.stop:last-child .stopDot:after {\n  height: 0;\n}\n.stopPassed .stopDot {\n  background: var(--brand-color);\n}\n.stopPassed .stopDot:before,\n.stopPassed .stopDot:after {\n  background: var(--brand-color);\n}\n\n.stopTime {\n  flex-basis: 60px;\n  flex-shrink: 0;\n}\n.stopName {\n  flex-grow: 1;\n  text-align: left;\n}\n.stopTrack {\n  text-align: right;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JourneyDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JourneyDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./JourneyDetails.vue?vue&type=template&id=032da856&\"\nimport script from \"./JourneyDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./JourneyDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./JourneyDetails.vue?vue&type=style&index=0&module=true&lang=css&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {\nvar _obj;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:[_vm.$style.locationInput, ( _obj = {}, _obj[_vm.$style.withLabel] = _vm.label, _obj )],on:{\"focus\":_vm.showDropDown,\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.hideDropDown($event)}}},[_c('label',{class:[_vm.$style.label]},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchText),expression:\"searchText\"}],ref:\"input\",class:[_vm.$style.input],attrs:{\"disabled\":_vm.disabled,\"type\":\"search\",\"placeholder\":_vm.label},domProps:{\"value\":(_vm.searchText)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.searchText=$event.target.value},_vm.onInput],\"focus\":_vm.showDropDown,\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.selectFirstSuggestion($event)},_vm.handleKeyInput]}}),(_vm.isLoading)?_c('font-awesome',{class:_vm.$style.spinner,attrs:{\"icon\":\"spinner\",\"spin\":\"\",\"aria-hidden\":\"true\"}}):_vm._e(),(_vm.selectedLocation)?_c('Button',{class:_vm.$style.resetLocationBtn,attrs:{\"onClick\":_vm.resetLocation,\"icon\":\"times\"}}):_vm._e()],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],class:_vm.$style.suggestionsFocusTrap,on:{\"click\":function($event){$event.preventDefault();return _vm.hideDropDown($event)}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],class:_vm.$style.suggestions,style:({ left: _vm.leftOffset, width: _vm.sugestionsWidth })},[(_vm.showUseMyLocation)?_c('button',{class:[_vm.$style.suggestion, _vm.$style.nearbySuggestion],on:{\"keyup\":_vm.handleKeyInput,\"click\":function($event){$event.preventDefault();return _vm.getNearbyStops($event)}}},[_c('font-awesome',{attrs:{\"icon\":\"crosshairs\"}}),_c('span',[_vm._v(_vm._s(_vm.nearbyStopsMessage))]),(_vm.isLoadingNearbyStops)?_c('font-awesome',{attrs:{\"icon\":\"spinner\",\"spin\":\"\"}}):_vm._e()],1):_vm._e(),_vm._l((_vm.allSuggestions),function(suggestion){return _c('button',{key:suggestion.id,class:[_vm.$style.suggestion, suggestion.isFavorite && _vm.$style.suggestionFavorite],on:{\"keyup\":[_vm.handleKeyInput,function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"space\",32,$event.key,[\" \",\"Spacebar\"])){ return null; }return _vm.onSelect(suggestion)}],\"click\":function($event){$event.preventDefault();return _vm.onSelect(suggestion)}}},[_vm._v(\" \"+_vm._s(suggestion.name)+\" \"),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.favourize(suggestion)}}},[_c('font-awesome',{attrs:{\"icon\":\"heart\"}})],1)])}),(_vm.searchText && !_vm.stops.length && !_vm.isLoading)?_c('button',{class:_vm.$style.suggestion,on:{\"click\":function($event){$event.preventDefault();}}},[_vm._v(\" Inga resultat för söktermen \")]):_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{class:[_vm.$style.button, _vm.className],attrs:{\"type\":_vm.type,\"title\":_vm.title},on:{\"click\":function($event){$event.preventDefault();return _vm.onClick($event)}}},[_vm._v(\" \"+_vm._s(_vm.text)+\" \"),(_vm.icon)?_c('font-awesome',{attrs:{\"icon\":['fas', _vm.icon]}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <button :class=\"[$style.button, className]\" :type=\"type\" :title=\"title\" @click.prevent=\"onClick\">\n    {{ text }}\n    <font-awesome v-if=\"icon\" :icon=\"['fas', icon]\" />\n  </button>\n</template>\n<script>\nexport default {\n  name: 'Button',\n  props: {\n    className: {\n      type: String,\n      default: '',\n    },\n    type: {\n      type: String,\n      default: 'button',\n    },\n    title: {\n      type: String,\n      default: '',\n    },\n    onClick: {\n      type: Function,\n      default: () => {},\n    },\n    text: {\n      type: String,\n      default: '',\n    },\n    icon: {\n      type: String,\n      default: null,\n    },\n  },\n};\n</script>\n<style module>\n.button {\n  background: transparent;\n  border: none;\n  color: inherit;\n  font: inherit;\n  margin: 0;\n  overflow: visible;\n  padding: 0.5em 1em;\n  user-select: none;\n  width: auto;\n}\n.button:focus {\n  outline: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Button.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Button.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Button.vue?vue&type=template&id=44c3dcce&\"\nimport script from \"./Button.vue?vue&type=script&lang=js&\"\nexport * from \"./Button.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Button.vue?vue&type=style&index=0&module=true&lang=css&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default function debounce(fn, delay, context) {\n  let timeoutId;\n  context = context || this;\n  return (...args) => {\n    if (timeoutId) clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => fn.apply(context, args), delay);\n  };\n}\n","<template>\n  <div\n    :class=\"[$style.locationInput, { [$style.withLabel]: label }]\"\n    @focus=\"showDropDown\"\n    @keyup.esc=\"hideDropDown\"\n  >\n    <label :class=\"[$style.label]\">\n      <input\n        ref=\"input\"\n        v-model=\"searchText\"\n        :disabled=\"disabled\"\n        :class=\"[$style.input]\"\n        type=\"search\"\n        :placeholder=\"label\"\n        @input=\"onInput\"\n        @focus=\"showDropDown\"\n        @keyup.enter=\"selectFirstSuggestion\"\n        @keyup=\"handleKeyInput\"\n      />\n      <font-awesome\n        v-if=\"isLoading\"\n        :class=\"$style.spinner\"\n        icon=\"spinner\"\n        spin\n        aria-hidden=\"true\"\n      />\n      <Button\n        v-if=\"selectedLocation\"\n        :class=\"$style.resetLocationBtn\"\n        :onClick=\"resetLocation\"\n        icon=\"times\"\n      />\n    </label>\n\n    <div v-show=\"show\" :class=\"$style.suggestionsFocusTrap\" @click.prevent=\"hideDropDown\" />\n    <div\n      v-show=\"show\"\n      :class=\"$style.suggestions\"\n      :style=\"{ left: leftOffset, width: sugestionsWidth }\"\n    >\n      <button\n        v-if=\"showUseMyLocation\"\n        :class=\"[$style.suggestion, $style.nearbySuggestion]\"\n        @keyup=\"handleKeyInput\"\n        @click.prevent=\"getNearbyStops\"\n      >\n        <font-awesome icon=\"crosshairs\" />\n        <span>{{ nearbyStopsMessage }}</span>\n        <font-awesome v-if=\"isLoadingNearbyStops\" icon=\"spinner\" spin />\n      </button>\n      <button\n        v-for=\"suggestion in allSuggestions\"\n        :key=\"suggestion.id\"\n        :class=\"[$style.suggestion, suggestion.isFavorite && $style.suggestionFavorite]\"\n        @keyup=\"handleKeyInput\"\n        @click.prevent=\"onSelect(suggestion)\"\n        @keyup.space=\"onSelect(suggestion)\"\n      >\n        {{ suggestion.name }}\n        <a href=\"#\" @click.stop=\"favourize(suggestion)\">\n          <font-awesome icon=\"heart\" />\n        </a>\n      </button>\n      <button\n        v-if=\"searchText && !stops.length && !isLoading\"\n        :class=\"$style.suggestion\"\n        @click.prevent\n      >\n        Inga resultat för söktermen\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters, mapActions } from 'vuex';\n\nimport Button from './Button.vue';\nimport debounce from '../util/debounce';\n\nconst keyToNextElementDict = {\n  ArrowUp: 'previousElementSibling',\n  ArrowDown: 'nextElementSibling',\n};\n\nexport default {\n  name: 'LocationInput',\n  components: {\n    Button,\n  },\n  props: {\n    label: {\n      type: String,\n      default: '',\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      show: false,\n      searchText: '',\n      leftOffset: 0,\n      sugestionsWidth: 'auto',\n    };\n  },\n  computed: {\n    ...mapGetters({ isLoadingNearbyStops: 'user/isLoading' }),\n    ...mapState({ apiName: ({ api }) => api.name }),\n    ...mapState('user', ['nearbyStops', 'nearbyStopsError']),\n    ...mapState('stops', ['stops', 'isLoading', 'favorites']),\n    ...mapState({\n      userLocation: ({ user }) => user.location,\n      selectedLocation: ({ trips }) => trips.location,\n    }),\n    nearbyStopsMessage() {\n      if (this.isLoadingNearbyStops) return 'Hämtar närliggande hållplatser';\n      return this.nearbyStopsError || 'Använd min plats';\n    },\n    showUseMyLocation() {\n      return !this.searchText && !this.nearbyStops.length;\n    },\n    showNearbyStops() {\n      return !this.searchText && this.nearbyStops.length;\n    },\n    hasSuggestions() {\n      return this.stops.length || this.nearbyStops.length;\n    },\n    filteredNearbyStops() {\n      if (!this.showNearbyStops) return [];\n      return this.nearbyStops;\n    },\n    allSuggestions() {\n      const favs = this.favorites.filter(({ region }) => region === this.apiName);\n      const favIds = favs.map(({ id }) => id);\n      const isFav = ({ id }) => !favIds.includes(id);\n      return [...favs, ...this.filteredNearbyStops.filter(isFav), ...this.stops.filter(isFav)];\n    },\n  },\n  watch: {\n    selectedLocation(newVal) {\n      if (!newVal) this.searchText = '';\n    },\n  },\n  mounted() {\n    this.debouncedFindStops = debounce(this.findStops, 350, this);\n    if (this.selectedLocation) {\n      this.searchText = this.selectedLocation.name;\n      this.debouncedFindStops(this.selectedLocation.name);\n    }\n\n    const { offsetLeft, clientWidth } = this.$refs.input;\n    this.leftOffset = `${offsetLeft}px`;\n    this.sugestionsWidth = `${clientWidth + 2}px`;\n  },\n  methods: {\n    ...mapActions('user', ['getUserLocation', 'getNearbyStops']),\n    ...mapActions('stops', ['findStops', 'addFavorite', 'removeFavorite']),\n    ...mapActions('trips', ['updateLocation']),\n    onInput({ target: { value } }) {\n      this.debouncedFindStops(value);\n    },\n    onSelect(location) {\n      this.searchText = location.name;\n      this.updateLocation(location);\n      this.hideDropDown();\n      this.findStops(location.name).then(this.hideDropDown);\n    },\n    selectFirstSuggestion() {\n      if (this.stops.length === 0) return;\n      this.onSelect(this.stops[0]);\n    },\n    favourize(favorite) {\n      if (favorite.isFavorite) {\n        this.removeFavorite(favorite);\n      } else {\n        this.addFavorite({ ...favorite, isFavorite: true });\n      }\n    },\n    handleKeyInput({ key }) {\n      const btnElSelector = `.${this.$style.suggestions} button`;\n\n      const getSibling = (el) => el[keyToNextElementDict[key]];\n\n      if (['ArrowDown', 'ArrowUp'].includes(key) && this.show && this.hasSuggestions) {\n        const focusedBtn = this.$el.querySelector(`${btnElSelector}:focus`);\n        if (focusedBtn) {\n          const nextBtn = getSibling(focusedBtn);\n          if (nextBtn) {\n            nextBtn.focus();\n          }\n        } else {\n          this.$el.querySelector(btnElSelector).focus();\n        }\n      }\n    },\n    showDropDown() {\n      this.show = true;\n    },\n    hideDropDown() {\n      this.show = false;\n      document.activeElement.blur();\n    },\n    resetLocation() {\n      this.updateLocation(null);\n    },\n  },\n};\n</script>\n\n<style module>\n.locationInput {\n  position: relative;\n  line-height: 2em;\n  margin-top: 0;\n}\n\n.label {\n  display: flex;\n  position: relative;\n}\n\n.labelText {\n  padding-right: 0.3em;\n}\n\n.input {\n  background-color: var(--background-color);\n  color: var(--text-color);\n  -webkit-appearance: none;\n  border: 1px solid var(--brand-color);\n  border-radius: 2px;\n  font: inherit;\n  flex: 1;\n  padding: 0 0.5em;\n}\n.input:focus {\n  outline: none;\n}\n\n.spinner {\n  position: absolute;\n  right: 0.5em;\n  top: 25%;\n}\n\n.resetLocationBtn {\n  background: var(--background-color);\n  line-height: 1em;\n  padding: 5px 10px;\n  position: absolute;\n  right: 4px;\n  top: 4px;\n  height: calc(100% - 8px);\n}\n\n.suggestionsFocusTrap {\n  background: transparent;\n  -webkit-backdrop-filter: blur(1px);\n  backdrop-filter: blur(1px);\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1;\n}\n\n.suggestions {\n  display: flex;\n  flex-direction: column;\n  background: var(--brand-color);\n  font-size: 1em;\n  margin: 0;\n  position: absolute;\n  top: 33px;\n  z-index: 10;\n}\n\n.suggestion {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  -webkit-appearance: none;\n  background: transparent;\n  border: 0;\n  color: white;\n  cursor: pointer;\n  font-size: 1em;\n  padding: 0.5em 0.75em;\n  margin: 0;\n  text-align: left;\n  text-decoration: none;\n  width: 100%;\n}\n\n.suggestion a {\n  color: rgba(255, 255, 255, 0.25);\n}\n\n.suggestionFavorite a {\n  color: white;\n}\n\n.nearbySuggestion {\n  justify-content: flex-start;\n}\n\n.suggestion + .suggestion {\n  border-top: 1px solid rgba(255, 255, 255, 0.3);\n}\n\n.suggestion:hover,\n.suggestion:focus {\n  background: whitesmoke;\n  color: var(--brand-color);\n  outline: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LocationInput.vue?vue&type=template&id=05760fd1&\"\nimport script from \"./LocationInput.vue?vue&type=script&lang=js&\"\nexport * from \"./LocationInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LocationInput.vue?vue&type=style&index=0&module=true&lang=css&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {\nvar _obj;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:[\n    _vm.$style.tripsTable,\n    ( _obj = {}, _obj[_vm.$style.VT] = _vm.apiName === 'VT', _obj[_vm.$style.TV] = _vm.apiName === 'TV', _obj[_vm.$style.SL] = _vm.apiName === 'SL', _obj[_vm.$style.SL] = _vm.apiName === 'RR', _obj[_vm.$style.showingJourneyDetails] = _vm.showJourneyDetails, _obj ) ]},[_c('table',{class:_vm.$style.table},[_c('thead',{class:_vm.$style.tableHead},[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.metaLabel))]),_c('th',[_vm._v(_vm._s(_vm.fromToLabel))]),_c('th',[_vm._v(\"Tid\")]),_c('th',{class:_vm.$style.tripNewTime},[_vm._v(\"Ny tid\")]),_c('th',[_vm._v(_vm._s(_vm.trackLabel))]),(_vm.hasNotes)?_c('th',[_vm._v(\"Anm\")]):_vm._e()])]),_c('tbody',{class:_vm.$style.tableBody},[_vm._l((_vm.trips),function(trip){\n  var _obj, _obj$1, _obj$2;\nreturn _c('tr',{key:trip.id,class:[_vm.$style.trip],on:{\"click\":function($event){return _vm.getJourneyDetails(trip)}}},[_c('td',{class:_vm.$style.tripLine,style:({ '--trip-bg-color': trip.fgColor, '--trip-text-color': trip.bgColor })},[_vm._v(\" \"+_vm._s(trip.sname)+\" \")]),_c('td',{class:_vm.$style.tripDest},[_c('div',[_c('span',{class:_vm.$style.tripName},[_vm._v(_vm._s(trip.direction || trip.origin))])]),_c('div',{class:_vm.$style.tripVia},[(trip.via)?_c('small',[_vm._v(\"via \"+_vm._s(_vm._f(\"unbreakMySpace\")(trip.via)))]):_vm._e()])]),_c('td',{class:_vm.$style.tripTime},[_c('span',{class:[\n              'only-mobile',\n              ( _obj = {}, _obj[_vm.$style.isLate] = trip.isLate, _obj[_vm.$style.strikeOut] = trip.cancelled, _obj ) ]},[_vm._v(\" \"+_vm._s(trip.rtTime || trip.time)+\" \")]),(!trip.isLate)?_c('span',{class:['from-tablet', ( _obj$1 = {}, _obj$1[_vm.$style.strikeOut] = trip.cancelled, _obj$1 )]},[_vm._v(_vm._s(trip.time))]):_vm._e()]),_c('td',{class:[_vm.$style.tripNewTime, _vm.$style.isLate, ( _obj$2 = {}, _obj$2[_vm.$style.strikeOut] = trip.cancelled, _obj$2 )]},[(trip.isLate)?_c('span',[_vm._v(_vm._s(trip.rtTime))]):_vm._e()]),_c('td',{class:_vm.$style.tripTrack},[_vm._v(_vm._s(trip.rtTrack || trip.track))]),(_vm.hasNotes)?_c('td',{class:_vm.$style.tripNote},[(trip.cancelled)?_c('span',[_vm._v(\"Inställd\")]):_vm._e(),(trip.remark)?_c('span',[_vm._v(_vm._s(trip.remark))]):_vm._e()]):_vm._e()])}),_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isLoading && _vm.location && _vm.trips.length === 0),expression:\"!isLoading && location && trips.length === 0\"}]},[_c('td',{attrs:{\"colspan\":\"5\"}},[_vm._v(\"Inga resor att visa\")])])],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * Check for browser support\n */\n\nconst isSupported = 'speechSynthesis' in window;\nlet voices;\nlet selectedVoice;\n\n// Fetch the list of voices and populate the voice options.\nfunction loadVoices() {\n  // Fetch the available voices.\n  voices = window.speechSynthesis.getVoices();\n  selectedVoice = voices.find((voice) => /Alva/i.test(voice.name));\n  // Loop through each of the voices.\n}\n\n// Execute loadVoices.\nif (isSupported) loadVoices();\n\n// Chrome loads voices asynchronously.\nwindow.speechSynthesis.onvoiceschanged = loadVoices;\n\n// Create a new utterance for the specified text and add it to\n// the queue.\nexport function speak(text) {\n  if (!isSupported) return;\n  // Create a new instance of SpeechSynthesisUtterance.\n  var msg = new SpeechSynthesisUtterance();\n\n  // Set the text.\n  msg.text = text;\n\n  // Set the attributes.\n  msg.volume = 1;\n  msg.rate = 0.9;\n  msg.pitch = 1;\n\n  // If a voice has been selected, find the voice and set the\n  // utterance instance's voice attribute.\n  if (!selectedVoice) {\n    console.log('Could not select voice');\n  } else {\n    msg.voice = selectedVoice;\n  }\n\n  // Queue this utterance.\n  window.speechSynthesis.speak(msg);\n}\n\nexport default {\n  speak,\n};\n","<template>\n  <div\n    :class=\"[\n      $style.tripsTable,\n      {\n        [$style.VT]: apiName === 'VT',\n        [$style.TV]: apiName === 'TV',\n        [$style.SL]: apiName === 'SL',\n        [$style.SL]: apiName === 'RR',\n        [$style.showingJourneyDetails]: showJourneyDetails,\n      },\n    ]\"\n  >\n    <table :class=\"$style.table\">\n      <thead :class=\"$style.tableHead\">\n        <tr>\n          <th>{{ metaLabel }}</th>\n          <th>{{ fromToLabel }}</th>\n          <th>Tid</th>\n          <th :class=\"$style.tripNewTime\">Ny tid</th>\n          <th>{{ trackLabel }}</th>\n          <th v-if=\"hasNotes\">Anm</th>\n        </tr>\n      </thead>\n      <tbody :class=\"$style.tableBody\">\n        <tr\n          v-for=\"trip in trips\"\n          :key=\"trip.id\"\n          :class=\"[$style.trip]\"\n          @click=\"getJourneyDetails(trip)\"\n        >\n          <td\n            :style=\"{ '--trip-bg-color': trip.fgColor, '--trip-text-color': trip.bgColor }\"\n            :class=\"$style.tripLine\"\n          >\n            {{ trip.sname }}\n          </td>\n          <td :class=\"$style.tripDest\">\n            <div>\n              <span :class=\"$style.tripName\">{{ trip.direction || trip.origin }}</span>\n            </div>\n            <div :class=\"$style.tripVia\">\n              <small v-if=\"trip.via\">via {{ trip.via | unbreakMySpace }}</small>\n            </div>\n          </td>\n          <td :class=\"$style.tripTime\">\n            <span\n              :class=\"[\n                'only-mobile',\n                { [$style.isLate]: trip.isLate, [$style.strikeOut]: trip.cancelled },\n              ]\"\n            >\n              {{ trip.rtTime || trip.time }}\n            </span>\n            <span\n              v-if=\"!trip.isLate\"\n              :class=\"['from-tablet', { [$style.strikeOut]: trip.cancelled }]\"\n              >{{ trip.time }}</span\n            >\n          </td>\n          <td :class=\"[$style.tripNewTime, $style.isLate, { [$style.strikeOut]: trip.cancelled }]\">\n            <span v-if=\"trip.isLate\">{{ trip.rtTime }}</span>\n          </td>\n          <td :class=\"$style.tripTrack\">{{ trip.rtTrack || trip.track }}</td>\n          <td v-if=\"hasNotes\" :class=\"$style.tripNote\">\n            <span v-if=\"trip.cancelled\">Inställd</span>\n            <span v-if=\"trip.remark\">{{ trip.remark }}</span>\n          </td>\n        </tr>\n        <tr v-show=\"!isLoading && location && trips.length === 0\">\n          <td colspan=\"5\">Inga resor att visa</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport RelativeTimeFormat from 'relative-time-format';\nimport swedish from 'relative-time-format/locale/sv.json';\nimport { mapState, mapGetters, mapActions } from 'vuex';\n\nimport debounce from '../util/debounce';\nimport { speak } from '../util/speechSynthesis';\n\nRelativeTimeFormat.addLocale(swedish);\n\nconst nbsp = ' '; // no breaking space\nconst timeFormatter = new RelativeTimeFormat('sv', { style: 'narrow' });\n\nconst minutesFromNow = (timeStr) => {\n  const [hours, minutes] = String(timeStr).split(':');\n  const now = Date.now();\n  const then = new Date();\n\n  then.setHours(hours);\n  then.setMinutes(minutes);\n\n  const minDiff = (then - now) / 1000 / 60;\n\n  // if it's 20 minutes past, assume its tomorrow\n  if (minDiff < -20) {\n    return minDiff + 60 * 24;\n  }\n  return minDiff;\n};\n\nexport default {\n  name: 'TripsTable',\n  filters: {\n    humanTime(value) {\n      const minutes = minutesFromNow(value);\n      if (minutes > 20) return value;\n      if (minutes < 1) return 'Nu';\n      return timeFormatter\n        .format(minutes, 'minute')\n        .slice(1) // get rid of leading +/-\n        .replace(' ', nbsp);\n    },\n    unbreakMySpace(value) {\n      if (!value.includes(' ')) return value;\n      return value.replace(' ', nbsp);\n    },\n  },\n  props: {\n    fromToLabel: {\n      type: String,\n      default: '',\n    },\n  },\n  computed: {\n    hasNotes() {\n      return this.trips.some(({ cancelled, remark }) => Boolean(cancelled || remark));\n    },\n    ...mapState({\n      showJourneyDetails: (state) => state.showJourneyDetails,\n      apiName: ({ api }) => api.name,\n    }),\n    ...mapState('trips', {\n      isLoading: ({ isLoading }) => isLoading,\n      location: ({ location }) => location,\n      doSpeak: ({ options }) => options.voice,\n    }),\n    ...mapGetters({ trips: 'trips/filteredTrips' }),\n    ...mapGetters('api', ['dict']),\n    metaLabel() {\n      return this.dict.sname;\n    },\n    trackLabel() {\n      return this.dict.track;\n    },\n  },\n  watch: {\n    trips(trips) {\n      if (!trips || trips.length === 0) return;\n      this.speak(trips);\n    },\n  },\n  mounted() {\n    this.speak = debounce(this.speak, 250, this);\n  },\n  methods: {\n    ...mapActions(['getJourneyDetails']),\n    speak(trips) {\n      if (trips.length < 1 || !this.doSpeak) return;\n      const { name, direction, timestamp, cancelled } = trips[0];\n      const via = (trips[0].via && `via ${trips[0].via},`) || '';\n      const inMinutes = Math.ceil((timestamp - Date.now()) / (1000 * 60));\n      if (cancelled) {\n        speak(`${name} mot ${direction}, ${via} är inställd`);\n      } else if (inMinutes <= 0) {\n        speak(`${name} mot ${direction}, ${via} avgår nu`);\n      } else if (inMinutes === 1) {\n        speak(`${name} mot ${direction}, ${via} avgår om en minut`);\n      } else if (inMinutes > 1 && inMinutes <= 60) {\n        speak(`${name} mot ${direction}, ${via} avgår om ${inMinutes} minuter`);\n      } else {\n        speak(`${name} mot ${direction}, ${via} avgår om mer än en timma`);\n      }\n    },\n  },\n};\n</script>\n\n<style module>\n.tripsTable {\n  flex: 1;\n  width: 100%;\n}\n\n.showingJourneyDetails {\n  display: none;\n}\n@media (min-width: 900px) {\n  .showingJourneyDetails {\n    display: block;\n  }\n}\n\n.table {\n  background-color: var(--background-color);\n  border: 0;\n  border-collapse: collapse;\n  color: var(--text-color);\n  width: 100%;\n}\n\n.table td,\n.table th {\n  padding: 0.5em;\n}\n\n.tableHead {\n  background-color: var(--brand-color);\n  color: var(--brand-text-color);\n}\n.tableHead th {\n  font-weight: normal;\n  text-align: left;\n}\n\n.trip {\n  cursor: pointer;\n}\n.trip:nth-child(even) {\n  background: var(--background-color-dim);\n}\n\n.strikeOut {\n  text-decoration: line-through;\n}\n\n.tripLine {\n  opacity: 0.9;\n  padding: 0.5em;\n  text-align: center;\n  width: 50px;\n  background: var(--trip-bg-color, transparent);\n  color: var(--trip-text-color, transparent);\n}\n\n.dark-mode .tripLine {\n  background: var(--trip-text-color, transparent);\n  color: var(--trip-bg-color, transparent);\n}\n\n@media (prefers-color-scheme: dark) {\n  :global(html:not(.light-mode)) .tripLine {\n    background: var(--trip-text-color, transparent);\n    color: var(--trip-bg-color, transparent);\n  }\n}\n\n.tripName {\n  font-weight: 500;\n}\n.tripTime,\n.tripNewTime {\n  width: 60px;\n}\n.tripNewTime {\n  display: none;\n}\n.isLate {\n  color: var(--brand-color);\n}\n.tripTrack {\n  text-align: center;\n  width: 50px;\n}\n.tripNote {\n  width: 1%;\n}\n\n@media screen and (min-width: 450px) {\n  .tripNewTime {\n    display: table-cell;\n  }\n}\n\n/***\n * API-BASED THEMES\n */\n.VT {\n}\n\n.TV .tripLine {\n  text-align: left;\n}\n\n.SL {\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TripsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TripsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TripsTable.vue?vue&type=template&id=60b36736&\"\nimport script from \"./TripsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./TripsTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TripsTable.vue?vue&type=style&index=0&module=true&lang=css&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section :class=\"$style.stationInfo\">\n    <div :class=\"$style.form\">\n      <LocationInput :disabled=\"initializing\" label=\"Hållplats\" />\n    </div>\n    <div v-if=\"showArrDepSelection\" :class=\"$style.arrDep\">\n      <button\n        :class=\"[$style.arrDepBtn, { [$style.arrDepBtnSelected]: !arrivals }]\"\n        @click=\"setArrivals(false)\"\n      >\n        Avgångar\n      </button>\n      <button\n        :class=\"[$style.arrDepBtn, , { [$style.arrDepBtnSelected]: arrivals }]\"\n        @click=\"setArrivals(true)\"\n      >\n        Ankomster\n      </button>\n    </div>\n    <div :class=\"$style.content\">\n      <TripsTable :from-to-label=\"fromToLabel\" />\n      <JourneyDetails />\n      <footer v-if=\"location\" :class=\"$style.situations\">\n        <MessageCarousel :messages=\"mergedSituations\" />\n      </footer>\n    </div>\n  </section>\n</template>\n<script>\nimport { mapState, mapGetters, mapActions, mapMutations } from 'vuex';\n\nimport MessageCarousel from './MessageCarousel.vue';\nimport JourneyDetails from './JourneyDetails.vue';\nimport LocationInput from './LocationInput.vue';\nimport TripsTable from './TripsTable.vue';\n\nconst dict = {\n  arrival: {\n    name: 'Ankomst',\n    arrEaves: 'Ankommer',\n    origDest: 'Från',\n  },\n  departure: {\n    name: 'Avgång',\n    arrEaves: 'Avgår',\n    origDest: 'Till',\n  },\n};\n\nexport default {\n  name: 'StationInfo',\n  components: {\n    LocationInput,\n    JourneyDetails,\n    TripsTable,\n    MessageCarousel,\n  },\n  computed: {\n    ...mapState('trips', ['arrivals', 'location', 'situations', 'manualSituations']),\n    ...mapState('api', {\n      apiName: ({ name }) => name,\n      initializing: ({ initializing }) => initializing,\n    }),\n    showArrDepSelection() {\n      return typeof this.api.getArrivalsTo === 'function';\n    },\n    mergedSituations() {\n      const location = this.location && this.location.name;\n      if (!location) return [];\n\n      const now = Date.now();\n      const validManualSituations = this.manualSituations\n        .filter((situation) => {\n          const sameLocation = situation.location === location;\n          const isValid = situation.validFrom < now && situation.validUntil > now;\n          return sameLocation && isValid;\n        })\n        .map(({ message }) => message);\n      return this.situations.messages.concat(validManualSituations);\n    },\n    ...mapGetters('api', ['api']),\n    dict() {\n      return this.arrivals ? dict.arrival : dict.departure;\n    },\n    show() {\n      return !!this.trips.length;\n    },\n    fromToLabel() {\n      return this.arrivals ? 'Från' : 'Till';\n    },\n    arriveDepartLabel() {\n      return this.arrivals ? 'Ankommer' : 'Avgår';\n    },\n  },\n  watch: {\n    arrivals(newVal, oldVal) {\n      if (newVal !== oldVal) {\n        if (this.location) {\n          this.getTrips(this.location);\n        }\n      }\n    },\n    apiName(newVal, oldVal) {\n      if (newVal !== oldVal) {\n        clearTimeout(this.lastTimeoutId);\n      }\n    },\n  },\n  beforeDestroy() {\n    clearTimeout(this.lastTimeoutId);\n  },\n  methods: {\n    ...mapActions('trips', ['getTrips']),\n    ...mapMutations('trips', ['setArrivals']),\n  },\n};\n</script>\n<style module>\n.stationInfo {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.form {\n  padding: 0.5em;\n}\n\n.content {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: scroll;\n  position: relative;\n}\n\n.arrDep {\n  background: var(--background-color-dim);\n  border-radius: 5px;\n  box-shadow: inset 0px 1px 2px rgba(30, 90, 150, 0.1);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  justify-content: center;\n  align-items: center;\n  margin: 0 auto 0.5em;\n  padding: 2px 3px;\n  text-align: center;\n  width: 50%;\n}\n\n.arrDepBtn {\n  border: none;\n  background: transparent;\n  border-radius: 4px;\n  color: var(--text-color-dim);\n  cursor: pointer;\n  margin: 0;\n  padding: 2px;\n}\n\n.arrDepBtn:focus {\n  outline: none;\n}\n\n.arrDepBtnSelected {\n  background: var(--background-color-active);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.13);\n  color: var(--text-color);\n}\n\n.situations {\n  background-color: var(--brand-color);\n  color: var(--brand-text-color);\n  line-height: 1.4em;\n  margin: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StationInfo.vue?vue&type=template&id=4ddba530&\"\nimport script from \"./StationInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./StationInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StationInfo.vue?vue&type=style&index=0&module=true&lang=css&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {\nvar _obj;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{class:[_vm.$style.contaier, ( _obj = {}, _obj[_vm.$style.contaierVisible] = _vm.beforeInstallPrompt, _obj )]},[_c('img',{class:_vm.$style.img,attrs:{\"src\":\"img/icons/android-chrome-512x512.png\",\"alt\":\"app logo\"}}),_c('h3',{class:_vm.$style.heading},[_vm._v(\"Lägg till på hemskärmen?\")]),_c('p',{class:_vm.$style.website},[_vm._v(_vm._s(_vm.url))]),_c('div',{class:_vm.$style.actions},[_c('a',{class:_vm.$style.link,attrs:{\"href\":\"#\"},on:{\"click\":_vm.closeToaster}},[_vm._v(\"Avbryt\")]),_c('a',{class:_vm.$style.link,attrs:{\"href\":\"#\"},on:{\"click\":_vm.onAddToHomeScreen}},[_vm._v(\"Lägg till\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <aside :class=\"[$style.contaier, { [$style.contaierVisible]: beforeInstallPrompt }]\">\n    <img :class=\"$style.img\" src=\"img/icons/android-chrome-512x512.png\" alt=\"app logo\" />\n    <h3 :class=\"$style.heading\">Lägg till på hemskärmen?</h3>\n    <p :class=\"$style.website\">{{ url }}</p>\n    <div :class=\"$style.actions\">\n      <a href=\"#\" :class=\"$style.link\" @click=\"closeToaster\">Avbryt</a>\n      <a href=\"#\" :class=\"$style.link\" @click=\"onAddToHomeScreen\">Lägg till</a>\n    </div>\n  </aside>\n</template>\n<script>\nimport { mapState, mapMutations } from 'vuex';\n\nexport default {\n  name: 'InstallToHomeScreenPrompt',\n  data() {\n    return {\n      prompted: false,\n      url: '',\n    };\n  },\n  computed: {\n    ...mapState(['beforeInstallPrompt']),\n  },\n  mounted() {\n    this.url = window.location.href.replace(/\\/$/, '');\n  },\n  methods: {\n    ...mapMutations(['setBeforeInstallPrompt']),\n    closeToaster() {\n      this.setBeforeInstallPrompt(null);\n    },\n    onAddToHomeScreen() {\n      if (this.prompted) return;\n      this.beforeInstallPrompt.prompt();\n      this.prompted = true;\n      this.beforeInstallPrompt.userChoice.then((choiceResult) => {\n        if (choiceResult.outcome === 'accepted') {\n          console.log('User accepted the A2HS prompt');\n        } else {\n          console.log('User dismissed the A2HS prompt');\n        }\n        this.closeToaster();\n      });\n    },\n  },\n};\n</script>\n<style module>\n.contaier {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: blueviolet;\n  color: white;\n  display: grid;\n  grid-template-columns: 20% auto;\n  grid-gap: 0.3em 1em;\n  align-items: center;\n  padding: 1.5em;\n  transition: transform 0.3s ease;\n  transform: translateY(150%);\n  will-change: transform;\n}\n.contaierVisible {\n  z-index: 10;\n  transform: translateY(0);\n}\n\n.img {\n  grid-row: 1 / 3;\n  grid-column: 1;\n  max-width: 100%;\n}\n\n.heading,\n.website {\n  margin: 0;\n}\n\n.website {\n  color: rgba(255, 255, 255, 0.75);\n}\n\n.actions {\n  grid-column: 2;\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 1em;\n}\n\n.link {\n  color: inherit;\n  text-transform: uppercase;\n  text-decoration: none;\n}\n\n.link + .link {\n  margin-left: 1em;\n}\n\n.closeBtn {\n  padding: 1em;\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstallToHomeScreenPrompt.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstallToHomeScreenPrompt.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InstallToHomeScreenPrompt.vue?vue&type=template&id=1670e48d&\"\nimport script from \"./InstallToHomeScreenPrompt.vue?vue&type=script&lang=js&\"\nexport * from \"./InstallToHomeScreenPrompt.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InstallToHomeScreenPrompt.vue?vue&type=style&index=0&module=true&lang=css&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {\nvar _obj;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:[_vm.$style.updateAvailable, ( _obj = {}, _obj[_vm.$style.updateAvailableActive] = _vm.hasUpdate, _obj )]},[_vm._v(\" 🎉 \"),_c('strong',[_vm._v(\"Uppdatering tillgänglig\")]),_vm._v(\" 🎉 \"),_c('br'),_c('a',{class:_vm.$style.reloadLink,attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.reload($event)}}},[_vm._v(\"Ladda om\")]),_vm._v(\" för att uppdatera 😆 \"),_c('Button',{attrs:{\"icon\":\"times\",\"className\":_vm.$style.closeBtn,\"onClick\":_vm.closeUpdateToaster,\"title\":\"Stäng\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"[$style.updateAvailable, { [$style.updateAvailableActive]: hasUpdate }]\">\n    🎉\n    <strong>Uppdatering tillgänglig</strong> 🎉\n    <br />\n    <a :class=\"$style.reloadLink\" href=\"#\" @click.prevent=\"reload\">Ladda om</a>\n    för att uppdatera 😆\n    <Button icon=\"times\" :className=\"$style.closeBtn\" :onClick=\"closeUpdateToaster\" title=\"Stäng\" />\n  </div>\n</template>\n<script>\nimport { mapState, mapMutations } from 'vuex';\nimport Button from './Button.vue';\n\nexport default {\n  name: 'UpdateAvailable',\n  components: {\n    Button,\n  },\n  computed: {\n    ...mapState({\n      hasUpdate: (state) => state.updateAvailable,\n    }),\n  },\n  methods: {\n    ...mapMutations(['setUpdateAvailable']),\n    closeUpdateToaster() {\n      this.setUpdateAvailable(false);\n    },\n    reload() {\n      window.location.reload();\n    },\n  },\n};\n</script>\n<style module>\n.updateAvailable {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: purple;\n  color: white;\n  padding: 1em 2em 2em;\n  text-align: center;\n  transition: transform 0.3s ease;\n  transform: translateY(150%);\n  will-change: transform;\n}\n\n.updateAvailableActive {\n  z-index: 10;\n  transform: translateY(0);\n}\n\n.reloadLink {\n  color: inherit;\n}\n\n.closeBtn {\n  padding: 1em;\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateAvailable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateAvailable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UpdateAvailable.vue?vue&type=template&id=4ef34070&\"\nimport script from \"./UpdateAvailable.vue?vue&type=script&lang=js&\"\nexport * from \"./UpdateAvailable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UpdateAvailable.vue?vue&type=style&index=0&module=true&lang=css&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.isOnline)?_c('div',{class:_vm.$style.offlineIndicator},[_vm._v(\" Ingen internetanslutning 😥 \")]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"!isOnline\" :class=\"$style.offlineIndicator\">\n    Ingen internetanslutning 😥\n  </div>\n</template>\n<script>\nimport { mapState } from 'vuex';\n\nexport default {\n  name: 'OfflineIndicator',\n  computed: {\n    ...mapState({\n      isOnline: (state) => state.online,\n    }),\n  },\n};\n</script>\n<style module>\n.offlineIndicator {\n  background: darkred;\n  color: white;\n  font-size: smaller;\n  padding: 0.5em;\n  text-align: center;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfflineIndicator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfflineIndicator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OfflineIndicator.vue?vue&type=template&id=5d58b18c&\"\nimport script from \"./OfflineIndicator.vue?vue&type=script&lang=js&\"\nexport * from \"./OfflineIndicator.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OfflineIndicator.vue?vue&type=style&index=0&module=true&lang=css&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{class:_vm.$style.tabs},_vm._l((_vm.tabs),function(tab){\nvar _obj;\nreturn _c('li',{key:tab.name,class:[\n      _vm.$style.tab,\n      tab.className,\n      ( _obj = {}, _obj[_vm.$style.tabSmall] = tab.small, _obj[_vm.$style.tabActive] = _vm.showSettings ? tab.name === 'Inställningar' : _vm.currentTab === tab.name, _obj[_vm.$style.tabDisabled] = tab.disabled, _obj ) ]},[_c('a',{class:_vm.$style.link,attrs:{\"title\":tab.name,\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return tab.onClick(tab)}}},[(tab.icon)?_c('font-awesome',{class:_vm.$style.icon,attrs:{\"icon\":tab.icon}}):_vm._e(),(!tab.onlyIcon)?_c('span',{class:[_vm.$style.text]},[_vm._v(_vm._s(tab.name))]):_vm._e()],1)])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ul :class=\"$style.tabs\">\n    <li\n      v-for=\"tab in tabs\"\n      :key=\"tab.name\"\n      :class=\"[\n        $style.tab,\n        tab.className,\n        {\n          [$style.tabSmall]: tab.small,\n          [$style.tabActive]: showSettings ? tab.name === 'Inställningar' : currentTab === tab.name,\n          [$style.tabDisabled]: tab.disabled,\n        },\n      ]\"\n    >\n      <a :class=\"$style.link\" :title=\"tab.name\" href=\"#\" @click.prevent=\"tab.onClick(tab)\">\n        <font-awesome v-if=\"tab.icon\" :icon=\"tab.icon\" :class=\"$style.icon\" />\n        <span v-if=\"!tab.onlyIcon\" :class=\"[$style.text]\">{{ tab.name }}</span>\n      </a>\n    </li>\n  </ul>\n</template>\n<script>\nexport default {\n  name: 'TabsComponent',\n  props: {\n    tabs: {\n      type: Array,\n      default: () => [],\n    },\n    currentTab: {\n      type: String,\n      default: '',\n    },\n    showSettings: {\n      type: Boolean,\n      default: false,\n    },\n  },\n};\n</script>\n<style module>\n.tabs {\n  border-top: 1px solid var(--background-color);\n  flex-grow: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n}\n\n.tab {\n  align-self: stretch;\n  background-color: var(--brand-color);\n  border-right: 1px solid var(--brand-text-color-dim);\n  color: var(--brand-text-color);\n  cursor: pointer;\n  flex-basis: 53px;\n  flex-grow: 1;\n  text-align: center;\n}\n\n.tab:last-child {\n  border-right-width: 0;\n}\n\n.tabSmall {\n  flex-grow: 0;\n}\n.tabActive {\n  background-color: var(--background-color-active);\n  color: var(--text-color-active);\n}\n.tabApi {\n  flex-grow: 0;\n}\n.tabDisabled {\n  text-decoration: line-through;\n  pointer-events: none;\n  color: var(--brand-text-color-dim);\n  cursor: disabled;\n}\n\n.tab:not(.tabActive):hover,\n.tab:not(.tabActive):focus {\n  color: var(--brand-text-color);\n}\n\n.link {\n  color: inherit;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  padding: 0.5em 1em 1em;\n  text-decoration: none;\n}\n\n.link:focus {\n  outline: none;\n}\n\n.text {\n  font-size: 0.7em;\n}\n\n.icon {\n  margin-bottom: 0.2em;\n}\n\n@supports (-webkit-overflow-scrolling: touch) {\n  .link {\n    padding-bottom: max(1em, env(safe-area-inset-bottom));\n  }\n  .link:first-child {\n    padding-left: max(1em, env(safe-area-inset-left));\n  }\n  .link:last-child {\n    padding-right: max(1em, env(safe-area-inset-right));\n  }\n}\n\n@media (min-width: 576px) {\n  .link {\n    flex-direction: row;\n  }\n  .text {\n    font-size: 1em;\n  }\n  .icon {\n    margin-bottom: 0;\n    margin-right: 1vw;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tabs.vue?vue&type=template&id=fad61d86&\"\nimport script from \"./Tabs.vue?vue&type=script&lang=js&\"\nexport * from \"./Tabs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tabs.vue?vue&type=style&index=0&module=true&lang=css&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","export const tabs = [\n  {\n    name: 'Hållplats',\n    componentName: 'station-info',\n    icon: ['fas', 'map-marker-alt'],\n  },\n  {\n    name: 'Karta',\n    componentName: 'map-component',\n    icon: 'map',\n  },\n  // {\n  //   name: 'Störningar',\n  //   componentName: 'disturbance-component',\n  //   icon: 'exclamation-circle'\n  // },\n  {\n    name: 'Inställningar',\n    componentName: 'app-settings',\n    icon: 'cog',\n    small: true,\n    onlyIcon: true,\n  },\n];\n\nconst state = {\n  currentTab: tabs[0].name,\n};\n\nconst mutations = {\n  setCurrentTab(state, value) {\n    state.currentTab = value;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n};\n","<template>\n  <div id=\"app\" :class=\"$style.app\">\n    <Header />\n    <div :class=\"$style.container\">\n      <component :is=\"currentTabComponent.componentName\" />\n      <AppSettings :class=\"[$style.appSettings, showSettings && $style.appSettingsVisible]\" />\n    </div>\n    <nav :class=\"$style.nav\">\n      <Tabs :tabs=\"tabs\" :current-tab=\"currentTab\" :show-settings=\"showSettings\" />\n    </nav>\n    <UpdateAvailable />\n    <InstallToHomeScreenPrompt />\n    <OfflineIndicator />\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters, mapMutations, mapActions } from 'vuex';\n\nimport Header from './components/Header.vue';\nimport AppSettings from './components/AppSettings.vue';\nimport StationInfo from './components/StationInfo.vue';\nimport InstallToHomeScreenPrompt from './components/InstallToHomeScreenPrompt.vue';\nimport UpdateAvailable from './components/UpdateAvailable.vue';\nimport OfflineIndicator from './components/OfflineIndicator.vue';\nimport Tabs from './components/Tabs.vue';\nimport { tabs as components } from './store/tabs';\n\nexport default {\n  name: 'App',\n  components: {\n    Header,\n    Tabs,\n    StationInfo,\n    AppSettings,\n    MapComponent: () => import('./components/Map.vue'),\n    DisturbanceComponent: () => import('./components/Disturbance.vue'),\n    UpdateAvailable,\n    OfflineIndicator,\n    InstallToHomeScreenPrompt,\n  },\n  data() {\n    return {\n      timeoutId: null,\n      showSettings: false,\n    };\n  },\n  computed: {\n    ...mapState({\n      apiName: ({ api }) => api.name,\n    }),\n    ...mapState('tabs', ['currentTab']),\n    ...mapState('trips', ['location']),\n    ...mapGetters('api', ['api']),\n    tabs() {\n      return components.map((comp) => ({\n        ...comp,\n        onClick: this.changeTab,\n      }));\n    },\n    currentTabComponent() {\n      return this.tabs.find(({ name }) => name === this.currentTab);\n    },\n  },\n  watch: {\n    location(newLoc, oldLoc) {\n      if (!newLoc) {\n        clearTimeout(this.timeoutId);\n      } else if (newLoc.id !== (oldLoc && oldLoc.id)) {\n        clearTimeout(this.timeoutId);\n        this.getTripsAgainAndAgain();\n      }\n    },\n    apiName() {\n      if (typeof this.api.getArrivalsTo !== 'function') {\n        this.setArrivals(false);\n      }\n    },\n  },\n  mounted() {\n    if (this.location) {\n      this.getTripsAgainAndAgain();\n    }\n  },\n  methods: {\n    ...mapMutations('tabs', ['setCurrentTab']),\n    ...mapMutations('trips', ['setArrivals']),\n    ...mapActions('trips', ['getTrips']),\n    toggleSettings() {\n      this.showSettings = !this.showSettings;\n    },\n    changeTab({ name }) {\n      if (name === 'Inställningar') {\n        this.toggleSettings();\n      } else {\n        this.showSettings = false;\n        this.setCurrentTab(name);\n      }\n    },\n    getTripsAgainAndAgain() {\n      window.requestAnimationFrame(() => {\n        this.getTrips();\n        this.timeoutId = setTimeout(() => this.getTripsAgainAndAgain(), 1000 * 30);\n      });\n    },\n  },\n};\n</script>\n\n<style module>\n.app {\n  background-color: var(--background-color);\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  width: 100vw;\n}\n\n.container {\n  flex: 1;\n  position: relative;\n  width: 100vw;\n  overflow: hidden;\n}\n\n.appSettings {\n  transition: transform 0.3s cubic-bezier(0.19, 1, 0.22, 1);\n  will-change: transform;\n  transform: translateX(101%);\n\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 9999; /* to overlay map */\n}\n.appSettingsVisible {\n  pointer-events: initial;\n  transform: translateX(0);\n}\n\n@supports (-webkit-overflow-scrolling: touch) {\n  .container {\n    padding-left: env(safe-area-inset-left);\n    padding-right: env(safe-area-inset-right);\n  }\n}\n</style>\n\n<style>\n:root {\n  --brand-color: #04ace5; /* rgb(0, 157, 219); */\n  --brand-text-color: white;\n  --brand-text-color-dim: rgba(255, 255, 255, 0.75);\n  --dark-text-color: dimgray;\n  --darker-text-color: rgb(0, 57, 77);\n\n  --background-color: white;\n  --background-color-active: white;\n  --background-color-dim: #eee;\n  --text-color: rgb(0, 57, 77);\n  --text-color-active: var(--brand-color);\n  --text-color-dim: #444;\n}\n\n:root.dark-mode {\n  --brand-color: #0080ac;\n  --brand-text-color-dim: rgba(255, 255, 255, 0.5);\n\n  --background-color: rgb(24, 31, 35);\n  --background-color-active: black;\n  --background-color-dim: rgb(40, 47, 51);\n\n  --text-color: rgb(232, 238, 240);\n  --text-color-active: var(--text-color);\n  --text-color-dim: #bbb;\n}\n\n@media (prefers-color-scheme: dark) {\n  :root:not(.light-mode) {\n    --brand-color: #0080ac;\n    --brand-text-color-dim: rgba(255, 255, 255, 0.5);\n\n    --background-color: rgb(24, 31, 35);\n    --background-color-active: black;\n    --background-color-dim: rgb(40, 47, 51);\n\n    --text-color: rgb(232, 238, 240);\n    --text-color-active: var(--text-color);\n    --text-color-dim: #bbb;\n  }\n}\n\nhtml {\n  box-sizing: border-box;\n}\n\n*,\n*:before,\n*:after {\n  box-sizing: inherit;\n}\n\nbody {\n  background-color: var(--brand-color);\n  color: var(--brand-color);\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell,\n    'Open Sans', 'Helvetica Neue', sans-serif;\n  margin: 0;\n  padding: 0;\n}\n\n.from-tablet,\n.from-desktop {\n  display: none;\n}\n\n.VT {\n  background-color: #ee7201;\n}\n.TV {\n  background-color: #d12d2c;\n}\n.SL {\n  background-color: #039cd5;\n}\n\n@media (min-width: 450px) {\n  .from-tablet {\n    display: initial;\n  }\n  .only-mobile {\n    display: none;\n  }\n}\n\n@media (min-width: 900px) {\n  .from-desktop {\n    display: initial;\n  }\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=5c49e218&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&module=true&lang=css&\"\nimport style1 from \"./App.vue?vue&type=style&index=1&lang=css&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","const state = {\n  isSupported: 'geolocation' in navigator,\n  isLoading: {\n    location: false,\n    nearbyStops: false,\n  },\n  location: null,\n  consented: null,\n  nearbyStops: [],\n  nearbyStopsError: '',\n};\n\nconst getters = {\n  isLoading({ isLoading }) {\n    return isLoading.location || isLoading.nearbyStops;\n  },\n};\n\nconst actions = {\n  async getNearbyStops({ commit, dispatch, state, rootState, rootGetters }) {\n    if (!state.isSupported) return;\n    if (!state.location) {\n      await dispatch('getUserLocation');\n    }\n\n    commit('setLoading', { nearbyStops: true });\n    rootGetters['api/api']\n      .getClosestStops(state.location)\n      .then((nearbyStops) => {\n        // only update nearbyStations promise resolves with correct data\n        console.log('nearbyStops', nearbyStops);\n        if (nearbyStops && nearbyStops.length && nearbyStops[0].region === rootState.api.name) {\n          commit('setNearbyStops', nearbyStops);\n        } else {\n          commit('setNearbyStopsError', 'Hittade ingen närliggande hållplats 😥');\n          setTimeout(() => commit('setNearbyStopsError', ''), 7000);\n        }\n        commit('setLoading', { nearbyStops: false });\n      })\n      .catch((reason) => {\n        console.error(reason);\n        commit('setLoading', { nearbyStops: false });\n        commit('setNearbyStopsError', 'Något gick snett 😱');\n      });\n  },\n  getUserLocation({ commit, state }) {\n    if (!state.isSupported) return Promise.resolve();\n\n    commit('setLoading', { location: true });\n    return new Promise((resolve, reject) => {\n      navigator.geolocation.getCurrentPosition(resolve, reject);\n    })\n      .then((pos) => {\n        commit('setLoading', { location: false });\n        commit('setConsented', true);\n        commit('setLocation', pos.coords);\n      })\n      .catch((reason) => {\n        console.log('Could not get position');\n        console.error(reason);\n        commit('setLoading', { location: false });\n        commit('setConsented', false);\n      });\n  },\n};\n\nconst mutations = {\n  setLoading(state, loading) {\n    state.isLoading = {\n      ...state.loading,\n      ...loading,\n    };\n  },\n  setConsented(state, value) {\n    state.consented = value;\n  },\n  setLocation(state, coords) {\n    state.location = {\n      lat: coords.latitude,\n      lng: coords.longitude,\n    };\n  },\n  setNearbyStops(state, stops) {\n    state.nearbyStops = stops;\n    state.nearbyStopsError = '';\n  },\n  setNearbyStopsError(state, error) {\n    state.nearbyStopsError = error;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations,\n};\n","const sheetsApi = {\n  baseUrl: 'https://sheets.googleapis.com/v4/spreadsheets',\n  API_KEY: 'AIzaSyBqEDcu-o3wuB8Fwn31yIF84qKwSIUIeEg',\n};\n\nconst sweToVTLingo = {\n  Linje: 'sname',\n  Hpl: 'origin',\n  Till: 'direction',\n  Via: 'via',\n  Läge: 'track',\n  Anm: 'remark',\n  Tid: 'time',\n  'Ny tid': 'rtTime',\n  Datum: 'date',\n  Bakgrundsfärg: 'fgColor',\n  Textfärg: 'bgColor',\n};\n\nconst files = {\n  manualDepartures: {\n    fileId: '1XSzg87FgHsxUl6UqNfRJtYIkw8wyN0yB3RzIib3JsvM',\n    tabName: 'Manuella%20linjer',\n  },\n  trafficInformation: {\n    fileId: '1XSzg87FgHsxUl6UqNfRJtYIkw8wyN0yB3RzIib3JsvM',\n    tabName: 'Trafikinformation',\n  },\n};\n\nfunction getSheet({ fileId, tabName }) {\n  return fetch(\n    `${sheetsApi.baseUrl}/${fileId}/values/${tabName}?key=${sheetsApi.API_KEY}`\n  ).then((resp) => resp.json());\n}\n\nfunction zipObject(keys) {\n  return (row) =>\n    keys.reduce(\n      (res, key, i) => ({\n        ...res,\n        [key]: row[i],\n      }),\n      {}\n    );\n}\n\nexport function getManualDepartures() {\n  return getSheet(files.manualDepartures).then(({ values }) => {\n    const [keys, ...rows] = values;\n    const normalizedKeys = keys.map((key) => sweToVTLingo[key] || key);\n\n    return rows.map(zipObject(normalizedKeys)).map((trip) => {\n      const time = trip.rtTime || trip.time;\n      const hasDateTime = trip.date && time;\n\n      trip.timestamp = hasDateTime ? new Date(`${trip.date} ${time}`).getTime() : Date.now();\n      trip.bgColor = trip.bgColor || 'black';\n\n      return trip;\n    });\n  });\n}\n\nexport function getManualInformation() {\n  return getSheet(files.trafficInformation).then(({ values }) => {\n    const [, ...rows] = values;\n    const normalizedKeys = ['location', 'message', 'validFrom', 'validUntil'];\n\n    return rows.map(zipObject(normalizedKeys)).map((info) => {\n      info.validFrom = new Date(info.validFrom);\n      info.validUntil = new Date(info.validUntil);\n      return info;\n    });\n  });\n}\n","const viaRegExp = /\\s*via\\s*/;\n\nexport default function getDestinationVia(departure) {\n  if (viaRegExp.test(departure.direction)) {\n    const [direction, via] = departure.direction.split(viaRegExp);\n    return Object.assign({}, departure, {\n      direction,\n      via,\n    });\n  }\n  return departure;\n}\n","import apis from '../api';\nimport * as googleDrive from '../api/googleDrive';\nimport getDestinationVia from '../util/getDestinationVia';\n\nconst initialFilter = {\n  track: '',\n  dest: '',\n  timeSpan: '',\n};\nconst initialSituations = {\n  messages: [],\n  affectedLines: [],\n};\nconst initialOptions = {\n  isLive: true,\n  voice: false,\n};\nconst filterKeys = Object.keys(initialFilter);\nconst optionKeys = Object.keys(initialOptions);\n\nconst state = {\n  arrivals: false,\n  filter: { ...initialFilter },\n  options: { ...initialOptions },\n  trips: [],\n  manualTrips: [],\n  situations: { ...initialSituations },\n  manualSituations: [],\n  isLoading: false,\n  location: null,\n};\n\nconst getters = {\n  filteredTrips({ trips, manualTrips, location, filter, situations }) {\n    const { track, dest } = filter;\n    const { affectedLines = [] } = situations;\n\n    const now = Date.now();\n    const validManual = manualTrips.filter(({ origin, timestamp }) => {\n      if (!location) return false;\n      const isSameLocation = origin === location.name;\n      const isFutureDate = timestamp >= now;\n      // TODO: validate same date\n      return isSameLocation && isFutureDate;\n    });\n\n    const merged = [...validManual, ...trips];\n    console.log('merged', merged);\n\n    return merged\n      .map((trip) => ({\n        ...trip,\n        isAffected: affectedLines.includes(trip.sname),\n      }))\n      .filter((trip) => (track ? trip.track === track : true))\n      .filter(({ direction, origin }) => (dest ? direction === dest || origin === dest : true))\n      .sort((a, b) => a.timestamp - b.timestamp);\n  },\n};\n\nconst actions = {\n  loadManualDepartures({ commit }) {\n    googleDrive.getManualDepartures().then((manualTrips) => {\n      commit('setManualTrips', apis.VT.transformTrips(manualTrips));\n    });\n    googleDrive.getManualInformation().then((situations) => {\n      commit('setManualSituations', situations);\n    });\n  },\n  getTrips({ commit, state, rootGetters }, location = state.location) {\n    if (!location) return commit('setTrips', []);\n\n    const getTripsMethod = state.arrivals\n      ? rootGetters['api/api']['getArrivalsTo']\n      : rootGetters['api/api']['getDeparturesFrom'];\n    commit('setLoading', true);\n    return getTripsMethod(location.id, state.filter.timeSpan)\n      .then((resp) => {\n        const trips = resp.map(getDestinationVia);\n        console.log('[getTrips]', trips);\n\n        commit('setTrips', trips);\n        commit('setLoading', false);\n      })\n      .catch((reason) => {\n        console.error('[getTrips]', reason);\n        commit('setLoading', false);\n      });\n  },\n  getTrafficSituations({ commit, rootGetters }, location) {\n    if (!location) return commit('setSituations', { ...initialSituations });\n\n    return rootGetters['api/api']\n      .getTrafficSituations(location.id, 'stoparea') // WTF?\n      .then((situations) => {\n        const messages = situations.messages.filter(\n          (msg, idx, self) => !self.slice(0, idx).some((prevMsg) => prevMsg === msg)\n        );\n        console.log('situations', situations);\n        commit('setSituations', {\n          ...situations,\n          messages,\n        });\n      })\n      .catch((reason) => console.error('[getTrafficSituations]', reason));\n  },\n  updateLocation({ dispatch, commit, state }, location) {\n    if (state.location === location) return;\n\n    console.log('[updateLocation]', location);\n    commit('setLocation', location);\n    if (location) {\n      dispatch('getTrips', location);\n      dispatch('getTrafficSituations', location);\n    } else {\n      commit('reset');\n    }\n  },\n};\n\nconst mutations = {\n  reset(state) {\n    state.trips = [];\n    state.filter = { ...initialFilter };\n    state.location = null;\n    state.situations = { ...initialSituations };\n  },\n  setFilter(state, filter) {\n    if (!Object.keys(filter).every((key) => filterKeys.includes(key))) {\n      return console.error('[setFilter]', 'Non valid key(s) supplied, must be one of', filterKeys);\n    }\n    state.filter = {\n      ...state.filter,\n      ...filter,\n    };\n  },\n  setOptions(state, options) {\n    if (!Object.keys(options).every((key) => optionKeys.includes(key))) {\n      return console.error('[setOptions]', 'Non valid key(s) supplied, must be one of', optionKeys);\n    }\n    state.options = {\n      ...state.options,\n      ...options,\n    };\n  },\n  setTrips(state, trips) {\n    state.trips = trips;\n  },\n  setManualTrips(state, trips) {\n    state.manualTrips = trips;\n  },\n  setManualSituations(state, situations) {\n    state.manualSituations = situations;\n  },\n  setSituations(state, situations) {\n    state.situations = situations;\n  },\n  setLoading(state, value) {\n    state.isLoading = value;\n  },\n  setLocation(state, location) {\n    state.location = location;\n  },\n  setArrivals(state, value) {\n    state.arrivals = value;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations,\n};\n","const state = {\n  stops: [],\n  isLoading: false,\n  favorites: [],\n};\n\nconst getters = {};\n\nlet lastQuery;\nconst actions = {\n  findStops({ commit, rootGetters }, query) {\n    if (!query) return commit('setStops', []);\n    lastQuery = query;\n\n    commit('setLoading', true);\n    return rootGetters['api/api']\n      .findStops(query)\n      .then((stops) => {\n        console.log('stops', stops);\n        if (lastQuery === query) {\n          commit('setLoading', false);\n          commit('setStops', stops);\n        } else {\n          console.log('skipping response');\n        }\n        return stops;\n      })\n      .catch((reason) => {\n        console.error(reason);\n        commit('setLoading', false);\n      });\n  },\n  addFavorite({ commit, state }, favorite) {\n    commit('setFavorites', [...state.favorites, favorite]);\n  },\n  removeFavorite({ commit, state }, favorite) {\n    const remainingFavorites = state.favorites.filter((fav) => {\n      const toBeRemoved = fav.id === favorite.id && fav.name === favorite.name;\n      return !toBeRemoved;\n    });\n    commit('setFavorites', remainingFavorites);\n  },\n};\n\nconst mutations = {\n  setStops(state, stops) {\n    state.stops = stops;\n  },\n  setLoading(state, value) {\n    state.isLoading = value;\n  },\n  setFavorites(state, favorites) {\n    state.favorites = favorites;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations,\n};\n","import apis, { apiDict } from '../api';\n\nconst locationAPIs = Object.keys(apis);\nconst defaultApi = 'VT'; // Västtrafik\nif (!locationAPIs.includes(defaultApi)) {\n  throw new Error('defaultApi must exist');\n}\n\nconst initializedAPIs = [];\n\nconst state = {\n  name: defaultApi,\n  initializing: true,\n};\n\nconst getters = {\n  api({ name }) {\n    return apis[name];\n  },\n  dict({ name }) {\n    return apiDict[name];\n  },\n};\n\nconst mutations = {\n  setApi(state, value) {\n    state.name = value;\n  },\n  setInitializing(state, value) {\n    state.initializing = value;\n  },\n};\n\nconst actions = {\n  initApi({ commit, state }) {\n    console.info('initializing', state.name);\n    commit('setInitializing', true);\n    apis[state.name]\n      .init()\n      .then(() => {\n        commit('setInitializing', false);\n        initializedAPIs.push(state.name);\n      })\n      .catch((reason) => {\n        console.error('[initApi]', reason);\n        commit('setInitializing', false);\n      });\n  },\n  toggleApi({ state, commit, dispatch }, next) {\n    const currentIndex = locationAPIs.indexOf(state.name);\n    const nextIndex = (currentIndex + 1) % locationAPIs.length;\n    const apiName = next || locationAPIs[nextIndex];\n    const isInitialized = initializedAPIs.includes(apiName);\n\n    commit('setApi', apiName);\n    commit('trips/reset', null, { root: true });\n    commit('stops/setStops', [], { root: true });\n    if (!isInitialized) dispatch('initApi');\n  },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  mutations,\n  actions,\n};\n","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport VuexPersist from 'vuex-persist';\n\nimport apis from '../api';\nimport user from './user';\nimport trips from './trips';\nimport stops from './stops';\nimport tabs from './tabs';\nimport api from './api';\n\nVue.use(Vuex);\nconst vuexLocal = new VuexPersist({\n  storage: window.localStorage,\n  reducer: ({ trips, api, stops }) => ({\n    trips,\n    api,\n    stops,\n  }),\n});\n\nexport default new Vuex.Store({\n  strict: process.env.NODE_ENV !== 'production',\n  state: {\n    online: true,\n    beforeInstallPrompt: null,\n    selectedJourney: null,\n    updateAvailable: false,\n    showJourneyDetails: false,\n    loadingJourneyDetails: false,\n  },\n  getters: {},\n  mutations: {\n    setOnline(state, value) {\n      state.online = value;\n    },\n    setBeforeInstallPrompt(state, event) {\n      state.beforeInstallPrompt = event;\n    },\n    setUpdateAvailable(state, value) {\n      state.updateAvailable = value;\n    },\n    selectJourney(state, journey) {\n      state.selectedJourney = journey;\n    },\n    setShowJourneyDetails(state, value) {\n      state.showJourneyDetails = value;\n    },\n    setLoadingJourneyDetails(state, value) {\n      state.loadingJourneyDetails = value;\n    },\n  },\n  actions: {\n    getJourneyDetails({ commit, state }, trip) {\n      if (state.api.name !== 'VT' || !trip.JourneyDetailRef) {\n        console.log('[getJourneyDetails]', 'only available for VT');\n        return Promise.resolve();\n      }\n      commit('setShowJourneyDetails', true);\n      commit('setLoadingJourneyDetails', true);\n      apis.VT.getJourneyDetail(trip.JourneyDetailRef.ref)\n        .then((resp) => {\n          commit('selectJourney', resp);\n          commit('setLoadingJourneyDetails', false);\n        })\n        .catch((reason) => {\n          console.error('[getJourneyDetails]', reason);\n          commit('setLoadingJourneyDetails', false);\n        });\n    },\n  },\n  modules: {\n    api,\n    user,\n    trips,\n    stops,\n    tabs,\n  },\n  plugins: [vuexLocal.plugin],\n});\n","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker';\nimport store from './store';\n\nstore.commit('setOnline', navigator.onLine);\n\nwindow.addEventListener('offline', () => store.commit('setOnline', false));\nwindow.addEventListener('online', () => store.commit('setOnline', true));\nwindow.addEventListener('beforeinstallprompt', (event) => {\n  event.preventDefault();\n  store.commit('setBeforeInstallPrompt', event);\n});\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready() {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n          'For more details, visit https://goo.gl/AFskqB'\n      );\n    },\n    cached() {\n      console.log('Content has been cached for offline use.');\n    },\n    updated() {\n      store.commit('setUpdateAvailable', true);\n      console.log('New content is available; please refresh.');\n    },\n    offline() {\n      console.log('No internet connection found. App is running in offline mode.');\n    },\n    error(error) {\n      console.error('Error during service worker registration:', error);\n    },\n  });\n}\n","import Vue from 'vue';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport {\n  faCog,\n  faMap,\n  faPlay,\n  faSync,\n  faHeart,\n  faTimes,\n  faCheck,\n  faPause,\n  faFilter,\n  faSpinner,\n  faVolumeUp,\n  faVolumeOff,\n  faInfoCircle,\n  faCrosshairs,\n  faMapMarkerAlt,\n  faExclamationCircle,\n} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\n\nlibrary.add(\n  faCog,\n  faMap,\n  faPlay,\n  faSync,\n  faHeart,\n  faTimes,\n  faCheck,\n  faPause,\n  faFilter,\n  faSpinner,\n  faVolumeUp,\n  faVolumeOff,\n  faInfoCircle,\n  faCrosshairs,\n  faMapMarkerAlt,\n  faExclamationCircle\n);\n\nVue.component('FontAwesome', FontAwesomeIcon);\n","import 'fg-loadcss';\nimport Vue from 'vue';\n\nimport App from './App.vue';\nimport store from './store';\nimport './registerServiceWorker';\n\n// setup font awesome\nimport './components/FontAwesome';\n\nVue.config.productionTip = false;\nstore.dispatch('api/initApi');\nstore.dispatch('trips/loadManualDepartures');\n\nnew Vue({\n  store,\n  render: (h) => h(App),\n}).$mount('#app');\n","export { default } from  \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&module=true&lang=css&\"; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&module=true&lang=css&\"","export { default } from  \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&module=true&lang=css&\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&module=true&lang=css&\"","export { default } from  \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JourneyDetails.vue?vue&type=style&index=0&module=true&lang=css&\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JourneyDetails.vue?vue&type=style&index=0&module=true&lang=css&\"","export { default } from  \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfflineIndicator.vue?vue&type=style&index=0&module=true&lang=css&\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfflineIndicator.vue?vue&type=style&index=0&module=true&lang=css&\"","export { default } from  \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=style&index=0&module=true&lang=css&\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=style&index=0&module=true&lang=css&\"","export { default } from  \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSettings.vue?vue&type=style&index=0&module=true&lang=css&\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSettings.vue?vue&type=style&index=0&module=true&lang=css&\"","export { default } from  \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Button.vue?vue&type=style&index=0&module=true&lang=css&\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Button.vue?vue&type=style&index=0&module=true&lang=css&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contaier\":\"InstallToHomeScreenPrompt_contaier_3yw4Y\",\"contaierVisible\":\"InstallToHomeScreenPrompt_contaierVisible_2Q7mx\",\"img\":\"InstallToHomeScreenPrompt_img_3D90F\",\"heading\":\"InstallToHomeScreenPrompt_heading_1-dbU\",\"website\":\"InstallToHomeScreenPrompt_website_eSrKp\",\"actions\":\"InstallToHomeScreenPrompt_actions_3xpKI\",\"link\":\"InstallToHomeScreenPrompt_link_rlOCo\",\"closeBtn\":\"InstallToHomeScreenPrompt_closeBtn_3qdZY\"};","export { default } from  \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageCarousel.vue?vue&type=style&index=0&module=true&lang=css&\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageCarousel.vue?vue&type=style&index=0&module=true&lang=css&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app_3cl75\",\"container\":\"App_container_1yQEW\",\"appSettings\":\"App_appSettings_1NzGp\",\"appSettingsVisible\":\"App_appSettingsVisible_mg3Gt\"};","export { default } from  \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationInfo.vue?vue&type=style&index=0&module=true&lang=css&\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationInfo.vue?vue&type=style&index=0&module=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&lang=css&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button_Mvymr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AppSettings_container_2xykw\",\"label\":\"AppSettings_label_1Ehsb\",\"apis\":\"AppSettings_apis_2pMDD\",\"apiBtn\":\"AppSettings_apiBtn_2GA-n\",\"apiBtnActive\":\"AppSettings_apiBtnActive_3atPf\",\"timeSpan\":\"AppSettings_timeSpan_1ETtM\",\"voiceCheckbox\":\"AppSettings_voiceCheckbox_2RGbB\"};","export { default } from  \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationInput.vue?vue&type=style&index=0&module=true&lang=css&\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationInput.vue?vue&type=style&index=0&module=true&lang=css&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stationInfo\":\"StationInfo_stationInfo_1Dt3D\",\"form\":\"StationInfo_form_3BKgO\",\"content\":\"StationInfo_content_3LXMa\",\"arrDep\":\"StationInfo_arrDep_wi-3d\",\"arrDepBtn\":\"StationInfo_arrDepBtn_1xukr\",\"arrDepBtnSelected\":\"StationInfo_arrDepBtnSelected_gx66p\",\"situations\":\"StationInfo_situations_nDEmL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"carousel\":\"MessageCarousel_carousel_2z3mA\",\"playPauseBtn\":\"MessageCarousel_playPauseBtn_3CJmV\",\"items\":\"MessageCarousel_items_36jYK\",\"item\":\"MessageCarousel_item_18VK5\",\"dots\":\"MessageCarousel_dots_33JNz\",\"dotBtn\":\"MessageCarousel_dotBtn_hdtJx\",\"dot\":\"MessageCarousel_dot_3Sbfj\",\"activeDot\":\"MessageCarousel_activeDot_1Ti6v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"offlineIndicator\":\"OfflineIndicator_offlineIndicator_RWCJm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"journeyDetails\":\"JourneyDetails_journeyDetails_3YAJj\",\"display\":\"JourneyDetails_display_nRo1Q\",\"header\":\"JourneyDetails_header_2FVDd\",\"heading\":\"JourneyDetails_heading_1u5lY\",\"closeBtn\":\"JourneyDetails_closeBtn_2AamI\",\"journeyMeta\":\"JourneyDetails_journeyMeta_2_eYX\",\"mapLink\":\"JourneyDetails_mapLink_1boUP\",\"stopList\":\"JourneyDetails_stopList_2AU0a\",\"stop\":\"JourneyDetails_stop_1ijip\",\"stopDotCell\":\"JourneyDetails_stopDotCell_1gJ_N\",\"stopDot\":\"JourneyDetails_stopDot_-Ig6N\",\"stopPassed\":\"JourneyDetails_stopPassed_3heFC\",\"stopTime\":\"JourneyDetails_stopTime_SRZYM\",\"stopName\":\"JourneyDetails_stopName_1ry27\",\"stopTrack\":\"JourneyDetails_stopTrack_1BnIw\"};"],"sourceRoot":""}